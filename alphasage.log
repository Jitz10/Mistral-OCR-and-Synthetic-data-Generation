2025-06-07 23:25:25,765 - INFO - MongoDB indexes created successfully
2025-06-07 23:25:30,209 - INFO - Created new ChromaDB collection: alphasage_chunks
2025-06-07 23:25:30,210 - INFO - AlphaSageVectorDB initialized with ChromaDB at ./chromadb_data
2025-06-07 23:25:30,267 - INFO - Starting batch embedding of 4394 chunks
2025-06-07 23:25:30,271 - INFO - Processing batch 1, chunks 1-50
2025-06-07 23:26:21,117 - INFO - Added 50 embeddings to ChromaDB
2025-06-07 23:26:21,122 - INFO - Processing batch 2, chunks 51-100
2025-06-07 23:27:11,126 - INFO - Added 50 embeddings to ChromaDB
2025-06-07 23:27:11,131 - INFO - Processing batch 3, chunks 101-150
2025-06-07 23:28:00,822 - INFO - Added 50 embeddings to ChromaDB
2025-06-07 23:28:00,828 - INFO - Processing batch 4, chunks 151-200
2025-06-07 23:28:50,909 - INFO - Added 50 embeddings to ChromaDB
2025-06-07 23:28:50,913 - INFO - Processing batch 5, chunks 201-250
2025-06-07 23:29:41,095 - INFO - Added 50 embeddings to ChromaDB
2025-06-07 23:29:41,097 - INFO - Progress: 250/4394 chunks processed
2025-06-07 23:29:41,100 - INFO - Processing batch 6, chunks 251-300
2025-06-07 23:30:30,990 - INFO - Added 50 embeddings to ChromaDB
2025-06-07 23:30:30,995 - INFO - Processing batch 7, chunks 301-350
2025-06-07 23:31:23,620 - INFO - Added 50 embeddings to ChromaDB
2025-06-07 23:31:23,626 - INFO - Processing batch 8, chunks 351-400
2025-06-07 23:32:16,607 - INFO - Added 50 embeddings to ChromaDB
2025-06-07 23:32:16,612 - INFO - Processing batch 9, chunks 401-450
2025-06-07 23:33:07,706 - INFO - Added 50 embeddings to ChromaDB
2025-06-07 23:33:07,711 - INFO - Processing batch 10, chunks 451-500
2025-06-07 23:33:58,585 - INFO - Added 50 embeddings to ChromaDB
2025-06-07 23:33:58,586 - INFO - Progress: 500/4394 chunks processed
2025-06-07 23:33:58,591 - INFO - Processing batch 11, chunks 501-550
2025-06-07 23:34:48,622 - INFO - Added 50 embeddings to ChromaDB
2025-06-07 23:34:48,627 - INFO - Processing batch 12, chunks 551-600
2025-06-07 23:35:38,654 - INFO - Added 50 embeddings to ChromaDB
2025-06-07 23:35:38,660 - INFO - Processing batch 13, chunks 601-650
2025-06-07 23:36:28,727 - INFO - Added 50 embeddings to ChromaDB
2025-06-07 23:36:28,732 - INFO - Processing batch 14, chunks 651-700
2025-06-07 23:37:18,760 - INFO - Added 50 embeddings to ChromaDB
2025-06-07 23:37:18,766 - INFO - Processing batch 15, chunks 701-750
2025-06-07 23:38:08,780 - INFO - Added 50 embeddings to ChromaDB
2025-06-07 23:38:08,780 - INFO - Progress: 750/4394 chunks processed
2025-06-07 23:38:08,785 - INFO - Processing batch 16, chunks 751-800
2025-06-07 23:38:58,822 - INFO - Added 50 embeddings to ChromaDB
2025-06-07 23:38:58,826 - INFO - Processing batch 17, chunks 801-850
2025-06-07 23:39:48,905 - INFO - Added 50 embeddings to ChromaDB
2025-06-07 23:39:48,909 - INFO - Processing batch 18, chunks 851-900
2025-06-07 23:40:38,957 - INFO - Added 50 embeddings to ChromaDB
2025-06-07 23:40:38,961 - INFO - Processing batch 19, chunks 901-950
2025-06-07 23:41:28,995 - INFO - Added 50 embeddings to ChromaDB
2025-06-07 23:41:29,001 - INFO - Processing batch 20, chunks 951-1000
2025-06-07 23:42:19,547 - INFO - Added 50 embeddings to ChromaDB
2025-06-07 23:42:19,548 - INFO - Progress: 1000/4394 chunks processed
2025-06-07 23:42:19,551 - INFO - Processing batch 21, chunks 1001-1050
2025-06-07 23:43:09,541 - INFO - Added 50 embeddings to ChromaDB
2025-06-07 23:43:09,545 - INFO - Processing batch 22, chunks 1051-1100
2025-06-07 23:43:59,797 - INFO - Added 50 embeddings to ChromaDB
2025-06-07 23:43:59,804 - INFO - Processing batch 23, chunks 1101-1150
2025-06-07 23:44:49,805 - INFO - Added 50 embeddings to ChromaDB
2025-06-07 23:44:49,810 - INFO - Processing batch 24, chunks 1151-1200
2025-06-07 23:45:39,849 - INFO - Added 50 embeddings to ChromaDB
2025-06-07 23:45:39,857 - INFO - Processing batch 25, chunks 1201-1250
2025-06-07 23:46:29,971 - INFO - Added 50 embeddings to ChromaDB
2025-06-07 23:46:29,971 - INFO - Progress: 1250/4394 chunks processed
2025-06-07 23:46:29,978 - INFO - Processing batch 26, chunks 1251-1300
2025-06-07 23:47:20,025 - INFO - Added 50 embeddings to ChromaDB
2025-06-07 23:47:20,031 - INFO - Processing batch 27, chunks 1301-1350
2025-06-07 23:48:10,016 - INFO - Added 50 embeddings to ChromaDB
2025-06-07 23:48:10,022 - INFO - Processing batch 28, chunks 1351-1400
2025-06-07 23:49:00,063 - INFO - Added 50 embeddings to ChromaDB
2025-06-07 23:49:00,068 - INFO - Processing batch 29, chunks 1401-1450
2025-06-07 23:49:50,107 - INFO - Added 50 embeddings to ChromaDB
2025-06-07 23:49:50,114 - INFO - Processing batch 30, chunks 1451-1500
2025-06-07 23:50:40,108 - INFO - Added 50 embeddings to ChromaDB
2025-06-07 23:50:40,109 - INFO - Progress: 1500/4394 chunks processed
2025-06-07 23:50:40,116 - INFO - Processing batch 31, chunks 1501-1550
2025-06-07 23:51:30,185 - INFO - Added 50 embeddings to ChromaDB
2025-06-07 23:51:30,190 - INFO - Processing batch 32, chunks 1551-1600
2025-06-07 23:52:21,318 - INFO - Added 50 embeddings to ChromaDB
2025-06-07 23:52:21,325 - INFO - Processing batch 33, chunks 1601-1650
2025-06-07 23:53:11,389 - INFO - Added 50 embeddings to ChromaDB
2025-06-07 23:53:11,392 - INFO - Processing batch 34, chunks 1651-1700
2025-06-07 23:54:01,704 - INFO - Added 50 embeddings to ChromaDB
2025-06-07 23:54:01,709 - INFO - Processing batch 35, chunks 1701-1750
2025-06-07 23:54:51,703 - INFO - Added 50 embeddings to ChromaDB
2025-06-07 23:54:51,703 - INFO - Progress: 1750/4394 chunks processed
2025-06-07 23:54:51,709 - INFO - Processing batch 36, chunks 1751-1800
2025-06-07 23:55:41,798 - INFO - Added 50 embeddings to ChromaDB
2025-06-07 23:55:41,804 - INFO - Processing batch 37, chunks 1801-1850
2025-06-07 23:56:31,846 - INFO - Added 50 embeddings to ChromaDB
2025-06-07 23:56:31,852 - INFO - Processing batch 38, chunks 1851-1900
2025-06-07 23:57:21,839 - INFO - Added 50 embeddings to ChromaDB
2025-06-07 23:57:21,847 - INFO - Processing batch 39, chunks 1901-1950
2025-06-07 23:58:11,867 - INFO - Added 50 embeddings to ChromaDB
2025-06-07 23:58:11,873 - INFO - Processing batch 40, chunks 1951-2000
2025-06-07 23:59:01,965 - INFO - Added 50 embeddings to ChromaDB
2025-06-07 23:59:01,966 - INFO - Progress: 2000/4394 chunks processed
2025-06-07 23:59:01,971 - INFO - Processing batch 41, chunks 2001-2050
2025-06-07 23:59:51,918 - INFO - Added 50 embeddings to ChromaDB
2025-06-07 23:59:51,924 - INFO - Processing batch 42, chunks 2051-2100
2025-06-08 00:00:41,935 - INFO - Added 50 embeddings to ChromaDB
2025-06-08 00:00:41,941 - INFO - Processing batch 43, chunks 2101-2150
2025-06-08 00:01:31,989 - INFO - Added 50 embeddings to ChromaDB
2025-06-08 00:01:31,995 - INFO - Processing batch 44, chunks 2151-2200
2025-06-08 00:02:24,575 - INFO - Added 50 embeddings to ChromaDB
2025-06-08 00:02:24,580 - INFO - Processing batch 45, chunks 2201-2250
2025-06-08 00:03:14,693 - INFO - Added 50 embeddings to ChromaDB
2025-06-08 00:03:14,693 - INFO - Progress: 2250/4394 chunks processed
2025-06-08 00:03:14,698 - INFO - Processing batch 46, chunks 2251-2300
2025-06-08 00:04:05,641 - INFO - Added 50 embeddings to ChromaDB
2025-06-08 00:04:05,650 - INFO - Processing batch 47, chunks 2301-2350
2025-06-08 00:04:55,760 - INFO - Added 50 embeddings to ChromaDB
2025-06-08 00:04:55,769 - INFO - Processing batch 48, chunks 2351-2400
2025-06-08 00:05:45,755 - INFO - Added 50 embeddings to ChromaDB
2025-06-08 00:05:45,763 - INFO - Processing batch 49, chunks 2401-2450
2025-06-08 00:06:35,771 - INFO - Added 50 embeddings to ChromaDB
2025-06-08 00:06:35,778 - INFO - Processing batch 50, chunks 2451-2500
2025-06-08 00:07:25,924 - INFO - Added 50 embeddings to ChromaDB
2025-06-08 00:07:25,925 - INFO - Progress: 2500/4394 chunks processed
2025-06-08 00:07:25,932 - INFO - Processing batch 51, chunks 2501-2550
2025-06-08 00:08:15,999 - INFO - Added 50 embeddings to ChromaDB
2025-06-08 00:08:16,008 - INFO - Processing batch 52, chunks 2551-2600
2025-06-08 00:09:05,911 - INFO - Added 50 embeddings to ChromaDB
2025-06-08 00:09:05,919 - INFO - Processing batch 53, chunks 2601-2650
2025-06-08 00:09:56,118 - INFO - Added 50 embeddings to ChromaDB
2025-06-08 00:09:56,128 - INFO - Processing batch 54, chunks 2651-2700
2025-06-08 00:10:46,044 - INFO - Added 50 embeddings to ChromaDB
2025-06-08 00:10:46,051 - INFO - Processing batch 55, chunks 2701-2750
2025-06-08 00:11:35,984 - INFO - Added 50 embeddings to ChromaDB
2025-06-08 00:11:35,984 - INFO - Progress: 2750/4394 chunks processed
2025-06-08 00:11:35,991 - INFO - Processing batch 56, chunks 2751-2800
2025-06-08 00:12:28,327 - INFO - Added 50 embeddings to ChromaDB
2025-06-08 00:12:28,334 - INFO - Processing batch 57, chunks 2801-2850
2025-06-08 00:13:18,408 - INFO - Added 50 embeddings to ChromaDB
2025-06-08 00:13:18,418 - INFO - Processing batch 58, chunks 2851-2900
2025-06-08 00:14:10,753 - INFO - Added 50 embeddings to ChromaDB
2025-06-08 00:14:10,756 - INFO - Processing batch 59, chunks 2901-2950
2025-06-08 00:15:03,739 - INFO - Added 50 embeddings to ChromaDB
2025-06-08 00:15:03,743 - INFO - Processing batch 60, chunks 2951-3000
2025-06-08 00:15:53,778 - INFO - Added 50 embeddings to ChromaDB
2025-06-08 00:15:53,779 - INFO - Progress: 3000/4394 chunks processed
2025-06-08 00:15:53,785 - INFO - Processing batch 61, chunks 3001-3050
2025-06-08 00:16:43,755 - INFO - Added 50 embeddings to ChromaDB
2025-06-08 00:16:43,762 - INFO - Processing batch 62, chunks 3051-3100
2025-06-08 00:17:33,709 - INFO - Added 50 embeddings to ChromaDB
2025-06-08 00:17:33,716 - INFO - Processing batch 63, chunks 3101-3150
2025-06-08 00:18:23,794 - INFO - Added 50 embeddings to ChromaDB
2025-06-08 00:18:23,802 - INFO - Processing batch 64, chunks 3151-3200
2025-06-08 00:19:13,812 - INFO - Added 50 embeddings to ChromaDB
2025-06-08 00:19:13,819 - INFO - Processing batch 65, chunks 3201-3250
2025-06-08 00:20:03,930 - INFO - Added 50 embeddings to ChromaDB
2025-06-08 00:20:03,931 - INFO - Progress: 3250/4394 chunks processed
2025-06-08 00:20:03,935 - INFO - Processing batch 66, chunks 3251-3300
2025-06-08 00:20:54,233 - INFO - Added 50 embeddings to ChromaDB
2025-06-08 00:20:54,238 - INFO - Processing batch 67, chunks 3301-3350
2025-06-08 00:21:44,267 - INFO - Added 50 embeddings to ChromaDB
2025-06-08 00:21:44,272 - INFO - Processing batch 68, chunks 3351-3400
2025-06-08 00:22:34,402 - INFO - Added 50 embeddings to ChromaDB
2025-06-08 00:22:34,407 - INFO - Processing batch 69, chunks 3401-3450
2025-06-08 00:23:27,496 - INFO - Added 50 embeddings to ChromaDB
2025-06-08 00:23:27,501 - INFO - Processing batch 70, chunks 3451-3500
2025-06-08 00:24:17,515 - INFO - Added 50 embeddings to ChromaDB
2025-06-08 00:24:17,516 - INFO - Progress: 3500/4394 chunks processed
2025-06-08 00:24:17,520 - INFO - Processing batch 71, chunks 3501-3550
2025-06-08 00:25:14,231 - INFO - Added 50 embeddings to ChromaDB
2025-06-08 00:25:14,236 - INFO - Processing batch 72, chunks 3551-3600
2025-06-08 00:26:05,486 - INFO - Added 50 embeddings to ChromaDB
2025-06-08 00:26:05,491 - INFO - Processing batch 73, chunks 3601-3650
2025-06-08 00:26:55,269 - INFO - Added 50 embeddings to ChromaDB
2025-06-08 00:26:55,274 - INFO - Processing batch 74, chunks 3651-3700
2025-06-08 00:27:45,317 - INFO - Added 50 embeddings to ChromaDB
2025-06-08 00:27:45,320 - INFO - Processing batch 75, chunks 3701-3750
2025-06-08 00:28:37,043 - INFO - Added 50 embeddings to ChromaDB
2025-06-08 00:28:37,043 - INFO - Progress: 3750/4394 chunks processed
2025-06-08 00:28:37,050 - INFO - Processing batch 76, chunks 3751-3800
2025-06-08 00:29:28,025 - INFO - Added 50 embeddings to ChromaDB
2025-06-08 00:29:28,029 - INFO - Processing batch 77, chunks 3801-3850
2025-06-08 00:30:18,062 - INFO - Added 50 embeddings to ChromaDB
2025-06-08 00:30:18,067 - INFO - Processing batch 78, chunks 3851-3900
2025-06-08 00:31:08,093 - INFO - Added 50 embeddings to ChromaDB
2025-06-08 00:31:08,096 - INFO - Processing batch 79, chunks 3901-3950
2025-06-08 00:31:58,146 - INFO - Added 50 embeddings to ChromaDB
2025-06-08 00:31:58,152 - INFO - Processing batch 80, chunks 3951-4000
2025-06-08 00:32:48,275 - INFO - Added 50 embeddings to ChromaDB
2025-06-08 00:32:48,275 - INFO - Progress: 4000/4394 chunks processed
2025-06-08 00:32:48,280 - INFO - Processing batch 81, chunks 4001-4050
2025-06-08 00:33:42,211 - INFO - Added 50 embeddings to ChromaDB
2025-06-08 00:33:42,216 - INFO - Processing batch 82, chunks 4051-4100
2025-06-08 00:34:32,241 - INFO - Added 50 embeddings to ChromaDB
2025-06-08 00:34:32,244 - INFO - Processing batch 83, chunks 4101-4150
2025-06-08 00:35:24,774 - INFO - Added 50 embeddings to ChromaDB
2025-06-08 00:35:24,779 - INFO - Processing batch 84, chunks 4151-4200
2025-06-08 00:36:14,782 - INFO - Added 50 embeddings to ChromaDB
2025-06-08 00:36:14,786 - INFO - Processing batch 85, chunks 4201-4250
2025-06-08 00:37:04,873 - INFO - Added 50 embeddings to ChromaDB
2025-06-08 00:37:04,873 - INFO - Progress: 4250/4394 chunks processed
2025-06-08 00:37:04,876 - INFO - Processing batch 86, chunks 4251-4300
2025-06-08 00:37:54,895 - INFO - Added 50 embeddings to ChromaDB
2025-06-08 00:37:54,899 - INFO - Processing batch 87, chunks 4301-4350
2025-06-08 00:38:44,990 - INFO - Added 50 embeddings to ChromaDB
2025-06-08 00:38:44,994 - INFO - Processing batch 88, chunks 4351-4394
2025-06-08 00:39:29,056 - INFO - Added 44 embeddings to ChromaDB
2025-06-08 00:39:29,059 - INFO - Batch embedding completed. Stats: {'processed': 4394, 'embedded': 4394, 'skipped': 0, 'errors': 0}
2025-06-08 00:39:29,344 - ERROR - Error in retrieve_chunks: Expected where to have exactly one operator, got {'company_name': 'Tata Motors', 'category': 'Future Insights'} in get.
2025-06-08 00:39:29,372 - ERROR - Traceback (most recent call last):
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\vector.py", line 382, in retrieve_chunks
    results = self.chroma_collection.get(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\chromadb\api\models\Collection.py", line 124, in get
    get_request = self._validate_and_prepare_get_request(
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\chromadb\api\models\CollectionCommon.py", line 95, in wrapper
    return func(self, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\chromadb\api\models\CollectionCommon.py", line 253, in _validate_and_prepare_get_request
    validate_filter_set(filter_set=filters)
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\chromadb\api\types.py", line 354, in validate_filter_set
    validate_where(filter_set["where"])
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\chromadb\api\types.py", line 739, in validate_where
    raise ValueError(f"Expected where to have exactly one operator, got {where}")
ValueError: Expected where to have exactly one operator, got {'company_name': 'Tata Motors', 'category': 'Future Insights'} in get.

2025-06-08 00:39:30,010 - ERROR - Error in retrieve_chunks: 'list' object has no attribute 'get'
2025-06-08 00:39:30,011 - ERROR - Traceback (most recent call last):
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\vector.py", line 394, in retrieve_chunks
    mongodb_id = metadata.get('mongodb_id')
                 ^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'get'

2025-06-08 00:39:30,072 - INFO - Retrieved 3 chunks matching criteria
2025-06-08 00:39:30,081 - INFO - Database connections closed
2025-06-08 00:57:32,186 - INFO - MongoDB indexes created successfully
2025-06-08 00:57:32,296 - INFO - Loaded existing ChromaDB collection: alphasage_chunks
2025-06-08 00:57:32,296 - INFO - AlphaSageVectorDB initialized with ChromaDB at ./chromadb_data
2025-06-08 00:57:32,598 - INFO - Starting batch embedding of 4394 chunks
2025-06-08 00:57:32,598 - INFO - Processing batch 1, chunks 1-50
2025-06-08 00:57:32,644 - INFO - Processing batch 2, chunks 51-100
2025-06-08 00:57:32,678 - INFO - Processing batch 3, chunks 101-150
2025-06-08 00:57:32,770 - INFO - Processing batch 4, chunks 151-200
2025-06-08 00:57:32,805 - INFO - Processing batch 5, chunks 201-250
2025-06-08 00:57:32,848 - INFO - Progress: 250/4394 chunks processed
2025-06-08 00:57:32,849 - INFO - Processing batch 6, chunks 251-300
2025-06-08 00:57:32,886 - INFO - Processing batch 7, chunks 301-350
2025-06-08 00:57:32,933 - INFO - Processing batch 8, chunks 351-400
2025-06-08 00:57:32,969 - INFO - Processing batch 9, chunks 401-450
2025-06-08 00:57:33,014 - INFO - Processing batch 10, chunks 451-500
2025-06-08 00:57:33,048 - INFO - Progress: 500/4394 chunks processed
2025-06-08 00:57:33,050 - INFO - Processing batch 11, chunks 501-550
2025-06-08 00:57:33,093 - INFO - Processing batch 12, chunks 551-600
2025-06-08 00:57:33,130 - INFO - Processing batch 13, chunks 601-650
2025-06-08 00:57:33,175 - INFO - Processing batch 14, chunks 651-700
2025-06-08 00:57:33,211 - INFO - Processing batch 15, chunks 701-750
2025-06-08 00:57:33,258 - INFO - Progress: 750/4394 chunks processed
2025-06-08 00:57:33,260 - INFO - Processing batch 16, chunks 751-800
2025-06-08 00:57:33,296 - INFO - Processing batch 17, chunks 801-850
2025-06-08 00:57:33,340 - INFO - Processing batch 18, chunks 851-900
2025-06-08 00:57:33,375 - INFO - Processing batch 19, chunks 901-950
2025-06-08 00:57:33,420 - INFO - Processing batch 20, chunks 951-1000
2025-06-08 00:57:33,455 - INFO - Progress: 1000/4394 chunks processed
2025-06-08 00:57:33,456 - INFO - Processing batch 21, chunks 1001-1050
2025-06-08 00:57:33,504 - INFO - Processing batch 22, chunks 1051-1100
2025-06-08 00:57:33,543 - INFO - Processing batch 23, chunks 1101-1150
2025-06-08 00:57:33,592 - INFO - Processing batch 24, chunks 1151-1200
2025-06-08 00:57:33,632 - INFO - Processing batch 25, chunks 1201-1250
2025-06-08 00:57:33,675 - INFO - Progress: 1250/4394 chunks processed
2025-06-08 00:57:33,677 - INFO - Processing batch 26, chunks 1251-1300
2025-06-08 00:57:33,716 - INFO - Processing batch 27, chunks 1301-1350
2025-06-08 00:57:33,761 - INFO - Processing batch 28, chunks 1351-1400
2025-06-08 00:57:33,798 - INFO - Processing batch 29, chunks 1401-1450
2025-06-08 00:57:33,843 - INFO - Processing batch 30, chunks 1451-1500
2025-06-08 00:57:33,878 - INFO - Progress: 1500/4394 chunks processed
2025-06-08 00:57:33,880 - INFO - Processing batch 31, chunks 1501-1550
2025-06-08 00:57:33,925 - INFO - Processing batch 32, chunks 1551-1600
2025-06-08 00:57:33,963 - INFO - Processing batch 33, chunks 1601-1650
2025-06-08 00:57:34,016 - INFO - Processing batch 34, chunks 1651-1700
2025-06-08 00:57:34,053 - INFO - Processing batch 35, chunks 1701-1750
2025-06-08 00:57:34,097 - INFO - Progress: 1750/4394 chunks processed
2025-06-08 00:57:34,100 - INFO - Processing batch 36, chunks 1751-1800
2025-06-08 00:57:34,138 - INFO - Processing batch 37, chunks 1801-1850
2025-06-08 00:57:34,184 - INFO - Processing batch 38, chunks 1851-1900
2025-06-08 00:57:34,221 - INFO - Processing batch 39, chunks 1901-1950
2025-06-08 00:57:34,269 - INFO - Processing batch 40, chunks 1951-2000
2025-06-08 00:57:34,302 - INFO - Progress: 2000/4394 chunks processed
2025-06-08 00:57:34,305 - INFO - Processing batch 41, chunks 2001-2050
2025-06-08 00:57:34,353 - INFO - Processing batch 42, chunks 2051-2100
2025-06-08 00:57:34,389 - INFO - Processing batch 43, chunks 2101-2150
2025-06-08 00:57:34,436 - INFO - Processing batch 44, chunks 2151-2200
2025-06-08 00:57:34,474 - INFO - Processing batch 45, chunks 2201-2250
2025-06-08 00:57:34,518 - INFO - Progress: 2250/4394 chunks processed
2025-06-08 00:57:34,520 - INFO - Processing batch 46, chunks 2251-2300
2025-06-08 00:57:34,558 - INFO - Processing batch 47, chunks 2301-2350
2025-06-08 00:57:34,604 - INFO - Processing batch 48, chunks 2351-2400
2025-06-08 00:57:34,643 - INFO - Processing batch 49, chunks 2401-2450
2025-06-08 00:57:34,688 - INFO - Processing batch 50, chunks 2451-2500
2025-06-08 00:57:34,724 - INFO - Progress: 2500/4394 chunks processed
2025-06-08 00:57:34,726 - INFO - Processing batch 51, chunks 2501-2550
2025-06-08 00:57:34,773 - INFO - Processing batch 52, chunks 2551-2600
2025-06-08 00:57:34,811 - INFO - Processing batch 53, chunks 2601-2650
2025-06-08 00:57:34,858 - INFO - Processing batch 54, chunks 2651-2700
2025-06-08 00:57:34,895 - INFO - Processing batch 55, chunks 2701-2750
2025-06-08 00:57:34,939 - INFO - Progress: 2750/4394 chunks processed
2025-06-08 00:57:34,942 - INFO - Processing batch 56, chunks 2751-2800
2025-06-08 00:57:34,980 - INFO - Processing batch 57, chunks 2801-2850
2025-06-08 00:57:35,028 - INFO - Processing batch 58, chunks 2851-2900
2025-06-08 00:57:35,066 - INFO - Processing batch 59, chunks 2901-2950
2025-06-08 00:57:35,114 - INFO - Processing batch 60, chunks 2951-3000
2025-06-08 00:57:35,150 - INFO - Progress: 3000/4394 chunks processed
2025-06-08 00:57:35,153 - INFO - Processing batch 61, chunks 3001-3050
2025-06-08 00:57:35,200 - INFO - Processing batch 62, chunks 3051-3100
2025-06-08 00:57:35,238 - INFO - Processing batch 63, chunks 3101-3150
2025-06-08 00:57:35,286 - INFO - Processing batch 64, chunks 3151-3200
2025-06-08 00:57:35,326 - INFO - Processing batch 65, chunks 3201-3250
2025-06-08 00:57:35,371 - INFO - Progress: 3250/4394 chunks processed
2025-06-08 00:57:35,374 - INFO - Processing batch 66, chunks 3251-3300
2025-06-08 00:57:35,414 - INFO - Processing batch 67, chunks 3301-3350
2025-06-08 00:57:35,460 - INFO - Processing batch 68, chunks 3351-3400
2025-06-08 00:57:35,500 - INFO - Processing batch 69, chunks 3401-3450
2025-06-08 00:57:35,547 - INFO - Processing batch 70, chunks 3451-3500
2025-06-08 00:57:35,591 - INFO - Progress: 3500/4394 chunks processed
2025-06-08 00:57:35,596 - INFO - Processing batch 71, chunks 3501-3550
2025-06-08 00:57:35,646 - INFO - Processing batch 72, chunks 3551-3600
2025-06-08 00:57:35,683 - INFO - Processing batch 73, chunks 3601-3650
2025-06-08 00:57:35,728 - INFO - Processing batch 74, chunks 3651-3700
2025-06-08 00:57:35,767 - INFO - Processing batch 75, chunks 3701-3750
2025-06-08 00:57:35,811 - INFO - Progress: 3750/4394 chunks processed
2025-06-08 00:57:35,814 - INFO - Processing batch 76, chunks 3751-3800
2025-06-08 00:57:35,853 - INFO - Processing batch 77, chunks 3801-3850
2025-06-08 00:57:35,901 - INFO - Processing batch 78, chunks 3851-3900
2025-06-08 00:57:35,940 - INFO - Processing batch 79, chunks 3901-3950
2025-06-08 00:57:35,986 - INFO - Processing batch 80, chunks 3951-4000
2025-06-08 00:57:36,024 - INFO - Progress: 4000/4394 chunks processed
2025-06-08 00:57:36,028 - INFO - Processing batch 81, chunks 4001-4050
2025-06-08 00:57:36,073 - INFO - Processing batch 82, chunks 4051-4100
2025-06-08 00:57:36,112 - INFO - Processing batch 83, chunks 4101-4150
2025-06-08 00:57:36,161 - INFO - Processing batch 84, chunks 4151-4200
2025-06-08 00:57:36,201 - INFO - Processing batch 85, chunks 4201-4250
2025-06-08 00:57:36,245 - INFO - Progress: 4250/4394 chunks processed
2025-06-08 00:57:36,249 - INFO - Processing batch 86, chunks 4251-4300
2025-06-08 00:57:36,287 - INFO - Processing batch 87, chunks 4301-4350
2025-06-08 00:57:36,335 - INFO - Processing batch 88, chunks 4351-4394
2025-06-08 00:57:36,365 - INFO - Batch embedding completed. Stats: {'processed': 4394, 'embedded': 0, 'skipped': 4394, 'errors': 0}
2025-06-08 00:57:36,576 - INFO - Retrieved 3 chunks matching criteria
2025-06-08 00:57:38,786 - INFO - Retrieved 5 chunks matching criteria
2025-06-08 00:57:38,802 - INFO - Retrieved 3 chunks matching criteria
2025-06-08 00:57:38,807 - INFO - Retrieved 3 chunks matching criteria
2025-06-08 00:57:38,814 - INFO - Retrieved 3 chunks matching criteria
2025-06-08 00:57:38,815 - INFO - Database connections closed
2025-06-08 10:05:24,110 - INFO - MongoDB indexes created successfully
2025-06-08 10:05:25,942 - INFO - Loaded existing ChromaDB collection: alphasage_chunks
2025-06-08 10:05:25,943 - INFO - AlphaSageVectorDB initialized with ChromaDB at ./chromadb_data
2025-06-08 10:05:26,671 - INFO - Starting batch embedding of 4394 chunks
2025-06-08 10:05:26,673 - INFO - Processing batch 1, chunks 1-50
2025-06-08 10:05:26,798 - INFO - Processing batch 2, chunks 51-100
2025-06-08 10:05:26,844 - INFO - Processing batch 3, chunks 101-150
2025-06-08 10:05:26,901 - INFO - Processing batch 4, chunks 151-200
2025-06-08 10:05:26,947 - INFO - Processing batch 5, chunks 201-250
2025-06-08 10:05:27,003 - INFO - Progress: 250/4394 chunks processed
2025-06-08 10:05:27,006 - INFO - Processing batch 6, chunks 251-300
2025-06-08 10:05:27,066 - INFO - Processing batch 7, chunks 301-350
2025-06-08 10:05:27,135 - INFO - Processing batch 8, chunks 351-400
2025-06-08 10:05:27,209 - INFO - Processing batch 9, chunks 401-450
2025-06-08 10:05:27,276 - INFO - Processing batch 10, chunks 451-500
2025-06-08 10:05:27,326 - INFO - Progress: 500/4394 chunks processed
2025-06-08 10:05:27,329 - INFO - Processing batch 11, chunks 501-550
2025-06-08 10:05:27,387 - INFO - Processing batch 12, chunks 551-600
2025-06-08 10:05:27,440 - INFO - Processing batch 13, chunks 601-650
2025-06-08 10:05:27,502 - INFO - Processing batch 14, chunks 651-700
2025-06-08 10:05:27,555 - INFO - Processing batch 15, chunks 701-750
2025-06-08 10:05:27,613 - INFO - Progress: 750/4394 chunks processed
2025-06-08 10:05:27,615 - INFO - Processing batch 16, chunks 751-800
2025-06-08 10:05:27,664 - INFO - Processing batch 17, chunks 801-850
2025-06-08 10:05:27,723 - INFO - Processing batch 18, chunks 851-900
2025-06-08 10:05:27,772 - INFO - Processing batch 19, chunks 901-950
2025-06-08 10:05:27,833 - INFO - Processing batch 20, chunks 951-1000
2025-06-08 10:05:27,882 - INFO - Progress: 1000/4394 chunks processed
2025-06-08 10:05:27,885 - INFO - Processing batch 21, chunks 1001-1050
2025-06-08 10:05:27,944 - INFO - Processing batch 22, chunks 1051-1100
2025-06-08 10:05:27,996 - INFO - Processing batch 23, chunks 1101-1150
2025-06-08 10:05:28,057 - INFO - Processing batch 24, chunks 1151-1200
2025-06-08 10:05:28,109 - INFO - Processing batch 25, chunks 1201-1250
2025-06-08 10:05:28,168 - INFO - Progress: 1250/4394 chunks processed
2025-06-08 10:05:28,171 - INFO - Processing batch 26, chunks 1251-1300
2025-06-08 10:05:28,224 - INFO - Processing batch 27, chunks 1301-1350
2025-06-08 10:05:28,285 - INFO - Processing batch 28, chunks 1351-1400
2025-06-08 10:05:28,335 - INFO - Processing batch 29, chunks 1401-1450
2025-06-08 10:05:28,392 - INFO - Processing batch 30, chunks 1451-1500
2025-06-08 10:05:28,440 - INFO - Progress: 1500/4394 chunks processed
2025-06-08 10:05:28,443 - INFO - Processing batch 31, chunks 1501-1550
2025-06-08 10:05:28,501 - INFO - Processing batch 32, chunks 1551-1600
2025-06-08 10:05:28,551 - INFO - Processing batch 33, chunks 1601-1650
2025-06-08 10:05:28,608 - INFO - Processing batch 34, chunks 1651-1700
2025-06-08 10:05:28,662 - INFO - Processing batch 35, chunks 1701-1750
2025-06-08 10:05:28,721 - INFO - Progress: 1750/4394 chunks processed
2025-06-08 10:05:28,724 - INFO - Processing batch 36, chunks 1751-1800
2025-06-08 10:05:28,774 - INFO - Processing batch 37, chunks 1801-1850
2025-06-08 10:05:28,833 - INFO - Processing batch 38, chunks 1851-1900
2025-06-08 10:05:28,885 - INFO - Processing batch 39, chunks 1901-1950
2025-06-08 10:05:28,943 - INFO - Processing batch 40, chunks 1951-2000
2025-06-08 10:05:28,991 - INFO - Progress: 2000/4394 chunks processed
2025-06-08 10:05:28,994 - INFO - Processing batch 41, chunks 2001-2050
2025-06-08 10:05:29,053 - INFO - Processing batch 42, chunks 2051-2100
2025-06-08 10:05:29,105 - INFO - Processing batch 43, chunks 2101-2150
2025-06-08 10:05:29,165 - INFO - Processing batch 44, chunks 2151-2200
2025-06-08 10:05:29,215 - INFO - Processing batch 45, chunks 2201-2250
2025-06-08 10:05:29,271 - INFO - Progress: 2250/4394 chunks processed
2025-06-08 10:05:29,274 - INFO - Processing batch 46, chunks 2251-2300
2025-06-08 10:05:29,326 - INFO - Processing batch 47, chunks 2301-2350
2025-06-08 10:05:29,381 - INFO - Processing batch 48, chunks 2351-2400
2025-06-08 10:05:29,429 - INFO - Processing batch 49, chunks 2401-2450
2025-06-08 10:05:29,488 - INFO - Processing batch 50, chunks 2451-2500
2025-06-08 10:05:29,536 - INFO - Progress: 2500/4394 chunks processed
2025-06-08 10:05:29,539 - INFO - Processing batch 51, chunks 2501-2550
2025-06-08 10:05:29,599 - INFO - Processing batch 52, chunks 2551-2600
2025-06-08 10:05:29,651 - INFO - Processing batch 53, chunks 2601-2650
2025-06-08 10:05:29,711 - INFO - Processing batch 54, chunks 2651-2700
2025-06-08 10:05:29,762 - INFO - Processing batch 55, chunks 2701-2750
2025-06-08 10:05:29,834 - INFO - Progress: 2750/4394 chunks processed
2025-06-08 10:05:29,839 - INFO - Processing batch 56, chunks 2751-2800
2025-06-08 10:05:29,939 - INFO - Processing batch 57, chunks 2801-2850
2025-06-08 10:05:30,093 - INFO - Processing batch 58, chunks 2851-2900
2025-06-08 10:05:30,190 - INFO - Processing batch 59, chunks 2901-2950
2025-06-08 10:05:30,344 - INFO - Processing batch 60, chunks 2951-3000
2025-06-08 10:05:30,441 - INFO - Progress: 3000/4394 chunks processed
2025-06-08 10:05:30,446 - INFO - Processing batch 61, chunks 3001-3050
2025-06-08 10:05:30,616 - INFO - Processing batch 62, chunks 3051-3100
2025-06-08 10:05:30,709 - INFO - Processing batch 63, chunks 3101-3150
2025-06-08 10:05:30,825 - INFO - Processing batch 64, chunks 3151-3200
2025-06-08 10:05:30,967 - INFO - Processing batch 65, chunks 3201-3250
2025-06-08 10:05:31,077 - INFO - Progress: 3250/4394 chunks processed
2025-06-08 10:05:31,083 - INFO - Processing batch 66, chunks 3251-3300
2025-06-08 10:05:31,183 - INFO - Processing batch 67, chunks 3301-3350
2025-06-08 10:05:31,340 - INFO - Processing batch 68, chunks 3351-3400
2025-06-08 10:05:31,440 - INFO - Processing batch 69, chunks 3401-3450
2025-06-08 10:05:31,559 - INFO - Processing batch 70, chunks 3451-3500
2025-06-08 10:05:31,701 - INFO - Progress: 3500/4394 chunks processed
2025-06-08 10:05:31,707 - INFO - Processing batch 71, chunks 3501-3550
2025-06-08 10:05:31,828 - INFO - Processing batch 72, chunks 3551-3600
2025-06-08 10:05:31,975 - INFO - Processing batch 73, chunks 3601-3650
2025-06-08 10:05:32,095 - INFO - Processing batch 74, chunks 3651-3700
2025-06-08 10:05:32,234 - INFO - Processing batch 75, chunks 3701-3750
2025-06-08 10:05:32,386 - INFO - Progress: 3750/4394 chunks processed
2025-06-08 10:05:32,392 - INFO - Processing batch 76, chunks 3751-3800
2025-06-08 10:05:32,493 - INFO - Processing batch 77, chunks 3801-3850
2025-06-08 10:05:32,642 - INFO - Processing batch 78, chunks 3851-3900
2025-06-08 10:05:32,738 - INFO - Processing batch 79, chunks 3901-3950
2025-06-08 10:05:32,883 - INFO - Processing batch 80, chunks 3951-4000
2025-06-08 10:05:33,021 - INFO - Progress: 4000/4394 chunks processed
2025-06-08 10:05:33,027 - INFO - Processing batch 81, chunks 4001-4050
2025-06-08 10:05:33,136 - INFO - Processing batch 82, chunks 4051-4100
2025-06-08 10:05:33,275 - INFO - Processing batch 83, chunks 4101-4150
2025-06-08 10:05:33,389 - INFO - Processing batch 84, chunks 4151-4200
2025-06-08 10:05:33,524 - INFO - Processing batch 85, chunks 4201-4250
2025-06-08 10:05:33,672 - INFO - Progress: 4250/4394 chunks processed
2025-06-08 10:05:33,677 - INFO - Processing batch 86, chunks 4251-4300
2025-06-08 10:05:33,775 - INFO - Processing batch 87, chunks 4301-4350
2025-06-08 10:05:33,930 - INFO - Processing batch 88, chunks 4351-4394
2025-06-08 10:05:34,013 - INFO - Batch embedding completed. Stats: {'processed': 4394, 'embedded': 0, 'skipped': 4394, 'errors': 0}
2025-06-08 10:05:34,398 - INFO - Retrieved 3 chunks matching criteria
2025-06-08 10:05:36,462 - INFO - Retrieved 5 chunks matching criteria
2025-06-08 10:05:36,490 - INFO - Retrieved 3 chunks matching criteria
2025-06-08 10:05:36,525 - INFO - Retrieved 3 chunks matching criteria
2025-06-08 10:05:36,542 - INFO - Retrieved 3 chunks matching criteria
2025-06-08 10:05:36,547 - INFO - Database connections closed
2025-06-08 10:42:56,892 - INFO - MongoDB connection established
2025-06-08 10:42:56,893 - INFO - Redis connection established
2025-06-08 10:42:57,174 - INFO - ChromaDB connection established
2025-06-08 10:42:57,189 - INFO - Testing tool: financial_data
2025-06-08 10:43:01,259 - ERROR - Error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it., Context: {"action": "get_cached_result", "key": "yfinance_data:290f61e252cf3aa3e10bc0dfdf6207f0"}
2025-06-08 10:43:01,477 - ERROR - Traceback (most recent call last):
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\redis\connection.py", line 385, in connect_check_health
    sock = self.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\redis\retry.py", line 87, in call_with_retry
    return do()
           ^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\redis\connection.py", line 386, in <lambda>
    lambda: self._connect(), lambda error: self.disconnect(error)
            ^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\redis\connection.py", line 797, in _connect
    raise err
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\redis\connection.py", line 781, in _connect
    sock.connect(socket_address)
ConnectionRefusedError: [WinError 10061] No connection could be made because the target machine actively refused it

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\tools.py", line 161, in get_cached_result
    cached_value = redis_client.get(key)
                   ^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\redis\commands\core.py", line 1829, in get
    return self.execute_command("GET", name, keys=[name])
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\redis\client.py", line 623, in execute_command
    return self._execute_command(*args, **options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\redis\client.py", line 629, in _execute_command
    conn = self.connection or pool.get_connection()
                              ^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\redis\utils.py", line 191, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\redis\connection.py", line 1530, in get_connection
    connection.connect()
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\redis\connection.py", line 379, in connect
    self.connect_check_health(check_health=True)
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\redis\connection.py", line 391, in connect_check_health
    raise ConnectionError(self._error_message(e))
redis.exceptions.ConnectionError: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.

2025-06-08 10:43:06,712 - ERROR - Error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it., Context: {"action": "cache_result", "key": "yfinance_data:290f61e252cf3aa3e10bc0dfdf6207f0"}
2025-06-08 10:43:06,715 - ERROR - Traceback (most recent call last):
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\redis\connection.py", line 385, in connect_check_health
    sock = self.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\redis\retry.py", line 87, in call_with_retry
    return do()
           ^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\redis\connection.py", line 386, in <lambda>
    lambda: self._connect(), lambda error: self.disconnect(error)
            ^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\redis\connection.py", line 797, in _connect
    raise err
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\redis\connection.py", line 781, in _connect
    sock.connect(socket_address)
ConnectionRefusedError: [WinError 10061] No connection could be made because the target machine actively refused it

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\tools.py", line 141, in cache_result
    redis_client.setex(key, ttl, serialized_value)
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\redis\commands\core.py", line 2330, in setex
    return self.execute_command("SETEX", name, time, value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\redis\client.py", line 623, in execute_command
    return self._execute_command(*args, **options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\redis\client.py", line 629, in _execute_command
    conn = self.connection or pool.get_connection()
                              ^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\redis\utils.py", line 191, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\redis\connection.py", line 1530, in get_connection
    connection.connect()
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\redis\connection.py", line 379, in connect
    self.connect_check_health(check_health=True)
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\redis\connection.py", line 391, in connect_check_health
    raise ConnectionError(self._error_message(e))
redis.exceptions.ConnectionError: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.

2025-06-08 10:43:06,718 - INFO - Test complete: financial_data, Success: True
2025-06-08 10:43:06,718 - INFO - Testing tool: financial_data
2025-06-08 10:43:10,794 - ERROR - Error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it., Context: {"action": "get_cached_result", "key": "yfinance_data:c8c48ea964612083bd3aad53ec674be9"}
2025-06-08 10:43:10,796 - ERROR - Traceback (most recent call last):
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\redis\connection.py", line 385, in connect_check_health
    sock = self.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\redis\retry.py", line 87, in call_with_retry
    return do()
           ^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\redis\connection.py", line 386, in <lambda>
    lambda: self._connect(), lambda error: self.disconnect(error)
            ^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\redis\connection.py", line 797, in _connect
    raise err
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\redis\connection.py", line 781, in _connect
    sock.connect(socket_address)
ConnectionRefusedError: [WinError 10061] No connection could be made because the target machine actively refused it

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\tools.py", line 161, in get_cached_result
    cached_value = redis_client.get(key)
                   ^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\redis\commands\core.py", line 1829, in get
    return self.execute_command("GET", name, keys=[name])
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\redis\client.py", line 623, in execute_command
    return self._execute_command(*args, **options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\redis\client.py", line 629, in _execute_command
    conn = self.connection or pool.get_connection()
                              ^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\redis\utils.py", line 191, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\redis\connection.py", line 1530, in get_connection
    connection.connect()
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\redis\connection.py", line 379, in connect
    self.connect_check_health(check_health=True)
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\redis\connection.py", line 391, in connect_check_health
    raise ConnectionError(self._error_message(e))
redis.exceptions.ConnectionError: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.

2025-06-08 10:43:20,782 - ERROR - Error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it., Context: {"action": "cache_result", "key": "yfinance_data:c8c48ea964612083bd3aad53ec674be9"}
2025-06-08 10:43:20,785 - ERROR - Traceback (most recent call last):
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\redis\connection.py", line 385, in connect_check_health
    sock = self.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\redis\retry.py", line 87, in call_with_retry
    return do()
           ^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\redis\connection.py", line 386, in <lambda>
    lambda: self._connect(), lambda error: self.disconnect(error)
            ^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\redis\connection.py", line 797, in _connect
    raise err
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\redis\connection.py", line 781, in _connect
    sock.connect(socket_address)
ConnectionRefusedError: [WinError 10061] No connection could be made because the target machine actively refused it

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\tools.py", line 141, in cache_result
    redis_client.setex(key, ttl, serialized_value)
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\redis\commands\core.py", line 2330, in setex
    return self.execute_command("SETEX", name, time, value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\redis\client.py", line 623, in execute_command
    return self._execute_command(*args, **options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\redis\client.py", line 629, in _execute_command
    conn = self.connection or pool.get_connection()
                              ^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\redis\utils.py", line 191, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\redis\connection.py", line 1530, in get_connection
    connection.connect()
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\redis\connection.py", line 379, in connect
    self.connect_check_health(check_health=True)
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\redis\connection.py", line 391, in connect_check_health
    raise ConnectionError(self._error_message(e))
redis.exceptions.ConnectionError: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.

2025-06-08 10:43:20,789 - INFO - Test complete: financial_data, Success: True
2025-06-08 10:43:20,790 - INFO - Testing tool: company_news
2025-06-08 10:43:24,892 - ERROR - Error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it., Context: {"action": "get_cached_result", "key": "yfinance_news:212440e71e6ab09e45050bf36e6be1fb"}
2025-06-08 10:43:24,895 - ERROR - Traceback (most recent call last):
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\redis\connection.py", line 385, in connect_check_health
    sock = self.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\redis\retry.py", line 87, in call_with_retry
    return do()
           ^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\redis\connection.py", line 386, in <lambda>
    lambda: self._connect(), lambda error: self.disconnect(error)
            ^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\redis\connection.py", line 797, in _connect
    raise err
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\redis\connection.py", line 781, in _connect
    sock.connect(socket_address)
ConnectionRefusedError: [WinError 10061] No connection could be made because the target machine actively refused it

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\tools.py", line 161, in get_cached_result
    cached_value = redis_client.get(key)
                   ^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\redis\commands\core.py", line 1829, in get
    return self.execute_command("GET", name, keys=[name])
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\redis\client.py", line 623, in execute_command
    return self._execute_command(*args, **options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\redis\client.py", line 629, in _execute_command
    conn = self.connection or pool.get_connection()
                              ^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\redis\utils.py", line 191, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\redis\connection.py", line 1530, in get_connection
    connection.connect()
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\redis\connection.py", line 379, in connect
    self.connect_check_health(check_health=True)
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\redis\connection.py", line 391, in connect_check_health
    raise ConnectionError(self._error_message(e))
redis.exceptions.ConnectionError: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.

2025-06-08 10:43:25,417 - ERROR - Error: Collection objects do not implement truth value testing or bool(). Please compare with None instead: collection is not None, Context: {"action": "fetch_company_news", "ticker": "TATAMOTORS.NS"}
2025-06-08 10:43:25,498 - ERROR - Traceback (most recent call last):
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\tools.py", line 691, in fetch_company_news
    if store_in_mongodb and collection and len(articles) > 0:
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\pymongo\synchronous\collection.py", line 311, in __bool__
    raise NotImplementedError(
NotImplementedError: Collection objects do not implement truth value testing or bool(). Please compare with None instead: collection is not None

2025-06-08 10:43:25,499 - INFO - Test complete: company_news, Success: True
2025-06-08 10:43:25,499 - INFO - Testing tool: calculate_metrics
2025-06-08 10:43:25,500 - INFO - Test complete: calculate_metrics, Success: True
2025-06-08 10:43:25,500 - INFO - Testing tool: reasoning
2025-06-08 10:43:29,589 - ERROR - Error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it., Context: {"action": "get_cached_result", "key": "reasoning:e065918dfaeca1df136ccd03f140e22e"}
2025-06-08 10:43:29,592 - ERROR - Traceback (most recent call last):
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\redis\connection.py", line 385, in connect_check_health
    sock = self.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\redis\retry.py", line 87, in call_with_retry
    return do()
           ^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\redis\connection.py", line 386, in <lambda>
    lambda: self._connect(), lambda error: self.disconnect(error)
            ^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\redis\connection.py", line 797, in _connect
    raise err
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\redis\connection.py", line 781, in _connect
    sock.connect(socket_address)
ConnectionRefusedError: [WinError 10061] No connection could be made because the target machine actively refused it

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\tools.py", line 161, in get_cached_result
    cached_value = redis_client.get(key)
                   ^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\redis\commands\core.py", line 1829, in get
    return self.execute_command("GET", name, keys=[name])
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\redis\client.py", line 623, in execute_command
    return self._execute_command(*args, **options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\redis\client.py", line 629, in _execute_command
    conn = self.connection or pool.get_connection()
                              ^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\redis\utils.py", line 191, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\redis\connection.py", line 1530, in get_connection
    connection.connect()
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\redis\connection.py", line 379, in connect
    self.connect_check_health(check_health=True)
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\redis\connection.py", line 391, in connect_check_health
    raise ConnectionError(self._error_message(e))
redis.exceptions.ConnectionError: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.

2025-06-08 10:43:31,594 - ERROR - Error: 429 Quota exceeded for quota metric 'Generate Content API requests per minute' and limit 'GenerateContent request limit per minute for a region' of service 'generativelanguage.googleapis.com' for consumer 'project_number:4036925562'. [reason: "RATE_LIMIT_EXCEEDED"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "generativelanguage.googleapis.com"
}
metadata {
  key: "quota_unit"
  value: "1/min/{project}/{region}"
}
metadata {
  key: "quota_metric"
  value: "generativelanguage.googleapis.com/generate_content_requests"
}
metadata {
  key: "quota_location"
  value: "us-south1"
}
metadata {
  key: "quota_limit"
  value: "GenerateContentRequestsPerMinutePerProjectPerRegion"
}
metadata {
  key: "quota_limit_value"
  value: "0"
}
metadata {
  key: "consumer"
  value: "projects/4036925562"
}
, links {
  description: "Request a higher quota limit."
  url: "https://cloud.google.com/docs/quotas/help/request_increase"
}
], Context: {"action": "reason_on_data", "query": "Is Tata Motors showing strong financial performance based on these metrics?"}
2025-06-08 10:43:31,827 - ERROR - Traceback (most recent call last):
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\tools.py", line 367, in reason_on_data
    response = await asyncio.to_thread(
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Jsh Agarwal\AppData\Local\Programs\Python\Python311\Lib\asyncio\threads.py", line 25, in to_thread
    return await loop.run_in_executor(None, func_call)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Jsh Agarwal\AppData\Local\Programs\Python\Python311\Lib\concurrent\futures\thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\google\generativeai\generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 835, in generate_content
    response = rpc(
               ^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
           ^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
                 ^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
             ^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\google\api_core\grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 Quota exceeded for quota metric 'Generate Content API requests per minute' and limit 'GenerateContent request limit per minute for a region' of service 'generativelanguage.googleapis.com' for consumer 'project_number:4036925562'. [reason: "RATE_LIMIT_EXCEEDED"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "generativelanguage.googleapis.com"
}
metadata {
  key: "quota_unit"
  value: "1/min/{project}/{region}"
}
metadata {
  key: "quota_metric"
  value: "generativelanguage.googleapis.com/generate_content_requests"
}
metadata {
  key: "quota_location"
  value: "us-south1"
}
metadata {
  key: "quota_limit"
  value: "GenerateContentRequestsPerMinutePerProjectPerRegion"
}
metadata {
  key: "quota_limit_value"
  value: "0"
}
metadata {
  key: "consumer"
  value: "projects/4036925562"
}
, links {
  description: "Request a higher quota limit."
  url: "https://cloud.google.com/docs/quotas/help/request_increase"
}
]

2025-06-08 10:43:31,832 - INFO - Test complete: reasoning, Success: True
2025-06-08 10:43:31,832 - INFO - Testing tool: search_knowledge_base
2025-06-08 10:43:35,881 - ERROR - Error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it., Context: {"action": "get_cached_result", "key": "vector_search:cfd6e512000902152494f983917084ae"}
2025-06-08 10:43:35,883 - ERROR - Traceback (most recent call last):
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\redis\connection.py", line 385, in connect_check_health
    sock = self.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\redis\retry.py", line 87, in call_with_retry
    return do()
           ^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\redis\connection.py", line 386, in <lambda>
    lambda: self._connect(), lambda error: self.disconnect(error)
            ^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\redis\connection.py", line 797, in _connect
    raise err
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\redis\connection.py", line 781, in _connect
    sock.connect(socket_address)
ConnectionRefusedError: [WinError 10061] No connection could be made because the target machine actively refused it

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\tools.py", line 161, in get_cached_result
    cached_value = redis_client.get(key)
                   ^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\redis\commands\core.py", line 1829, in get
    return self.execute_command("GET", name, keys=[name])
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\redis\client.py", line 623, in execute_command
    return self._execute_command(*args, **options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\redis\client.py", line 629, in _execute_command
    conn = self.connection or pool.get_connection()
                              ^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\redis\utils.py", line 191, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\redis\connection.py", line 1530, in get_connection
    connection.connect()
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\redis\connection.py", line 379, in connect
    self.connect_check_health(check_health=True)
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\redis\connection.py", line 391, in connect_check_health
    raise ConnectionError(self._error_message(e))
redis.exceptions.ConnectionError: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.

2025-06-08 10:43:36,081 - INFO - MongoDB indexes created successfully
2025-06-08 10:43:36,131 - INFO - Loaded existing ChromaDB collection: alphasage_chunks
2025-06-08 10:43:36,133 - INFO - AlphaSageVectorDB initialized with ChromaDB at ./chromadb_data
2025-06-08 10:43:38,706 - INFO - Retrieved 5 chunks matching criteria
2025-06-08 10:43:42,793 - ERROR - Error: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it., Context: {"action": "cache_result", "key": "vector_search:cfd6e512000902152494f983917084ae"}
2025-06-08 10:43:42,796 - ERROR - Traceback (most recent call last):
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\redis\connection.py", line 385, in connect_check_health
    sock = self.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\redis\retry.py", line 87, in call_with_retry
    return do()
           ^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\redis\connection.py", line 386, in <lambda>
    lambda: self._connect(), lambda error: self.disconnect(error)
            ^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\redis\connection.py", line 797, in _connect
    raise err
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\redis\connection.py", line 781, in _connect
    sock.connect(socket_address)
ConnectionRefusedError: [WinError 10061] No connection could be made because the target machine actively refused it

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\tools.py", line 141, in cache_result
    redis_client.setex(key, ttl, serialized_value)
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\redis\commands\core.py", line 2330, in setex
    return self.execute_command("SETEX", name, time, value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\redis\client.py", line 623, in execute_command
    return self._execute_command(*args, **options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\redis\client.py", line 629, in _execute_command
    conn = self.connection or pool.get_connection()
                              ^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\redis\utils.py", line 191, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\redis\connection.py", line 1530, in get_connection
    connection.connect()
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\redis\connection.py", line 379, in connect
    self.connect_check_health(check_health=True)
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\redis\connection.py", line 391, in connect_check_health
    raise ConnectionError(self._error_message(e))
redis.exceptions.ConnectionError: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.

2025-06-08 10:43:42,798 - INFO - Test complete: search_knowledge_base, Success: True
2025-06-08 11:28:48,113 - INFO - MongoDB connection established
2025-06-08 11:28:48,138 - INFO - Redis connection established
2025-06-08 11:28:51,588 - INFO - ChromaDB connection established
2025-06-08 11:28:51,917 - INFO - Testing tool: financial_data
2025-06-08 11:28:53,639 - INFO - Test complete: financial_data, Success: True
2025-06-08 11:28:53,640 - INFO - Testing tool: financial_data
2025-06-08 11:28:58,773 - INFO - Test complete: financial_data, Success: True
2025-06-08 11:28:58,773 - INFO - Testing tool: company_news
2025-06-08 11:28:59,762 - INFO - Stored 5 news articles for Tata Motors in MongoDB
2025-06-08 11:28:59,764 - INFO - Test complete: company_news, Success: True
2025-06-08 11:28:59,764 - INFO - Testing tool: calculate_metrics
2025-06-08 11:28:59,765 - INFO - Test complete: calculate_metrics, Success: True
2025-06-08 11:28:59,765 - INFO - Testing tool: reasoning
2025-06-08 11:29:01,487 - ERROR - Error: 429 Quota exceeded for quota metric 'Generate Content API requests per minute' and limit 'GenerateContent request limit per minute for a region' of service 'generativelanguage.googleapis.com' for consumer 'project_number:4036925562'. [reason: "RATE_LIMIT_EXCEEDED"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "generativelanguage.googleapis.com"
}
metadata {
  key: "quota_unit"
  value: "1/min/{project}/{region}"
}
metadata {
  key: "quota_metric"
  value: "generativelanguage.googleapis.com/generate_content_requests"
}
metadata {
  key: "quota_location"
  value: "us-south1"
}
metadata {
  key: "quota_limit"
  value: "GenerateContentRequestsPerMinutePerProjectPerRegion"
}
metadata {
  key: "quota_limit_value"
  value: "0"
}
metadata {
  key: "consumer"
  value: "projects/4036925562"
}
, links {
  description: "Request a higher quota limit."
  url: "https://cloud.google.com/docs/quotas/help/request_increase"
}
], Context: {"action": "reason_on_data", "query": "Is Tata Motors showing strong financial performance based on these metrics?"}
2025-06-08 11:29:01,675 - ERROR - Traceback (most recent call last):
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\tools.py", line 453, in reason_on_data
    response = await asyncio.to_thread(
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Jsh Agarwal\AppData\Local\Programs\Python\Python311\Lib\asyncio\threads.py", line 25, in to_thread
    return await loop.run_in_executor(None, func_call)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Jsh Agarwal\AppData\Local\Programs\Python\Python311\Lib\concurrent\futures\thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\google\generativeai\generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 835, in generate_content
    response = rpc(
               ^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
           ^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
                 ^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
             ^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\google\api_core\grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 Quota exceeded for quota metric 'Generate Content API requests per minute' and limit 'GenerateContent request limit per minute for a region' of service 'generativelanguage.googleapis.com' for consumer 'project_number:4036925562'. [reason: "RATE_LIMIT_EXCEEDED"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "generativelanguage.googleapis.com"
}
metadata {
  key: "quota_unit"
  value: "1/min/{project}/{region}"
}
metadata {
  key: "quota_metric"
  value: "generativelanguage.googleapis.com/generate_content_requests"
}
metadata {
  key: "quota_location"
  value: "us-south1"
}
metadata {
  key: "quota_limit"
  value: "GenerateContentRequestsPerMinutePerProjectPerRegion"
}
metadata {
  key: "quota_limit_value"
  value: "0"
}
metadata {
  key: "consumer"
  value: "projects/4036925562"
}
, links {
  description: "Request a higher quota limit."
  url: "https://cloud.google.com/docs/quotas/help/request_increase"
}
]

2025-06-08 11:29:01,678 - INFO - Test complete: reasoning, Success: True
2025-06-08 11:29:01,679 - INFO - Testing tool: search_knowledge_base
2025-06-08 11:29:01,805 - INFO - MongoDB indexes created successfully
2025-06-08 11:29:01,824 - INFO - Loaded existing ChromaDB collection: alphasage_chunks
2025-06-08 11:29:01,826 - INFO - AlphaSageVectorDB initialized with ChromaDB at ./chromadb_data
2025-06-08 11:29:04,089 - INFO - Retrieved 5 chunks matching criteria
2025-06-08 11:29:04,092 - INFO - Database connections closed
2025-06-08 11:29:04,093 - INFO - Test complete: search_knowledge_base, Success: True
2025-06-08 11:49:01,234 - INFO - MongoDB connection established
2025-06-08 11:49:01,239 - INFO - Redis connection established
2025-06-08 11:49:01,400 - INFO - ChromaDB connection established
2025-06-08 11:49:01,586 - INFO - Testing tool: financial_data
2025-06-08 11:49:01,587 - INFO - Using cached financial data for TATAMOTORS.NS, metric: P/E
2025-06-08 11:49:01,588 - INFO - Test complete: financial_data, Success: True
2025-06-08 11:49:01,588 - INFO - Testing tool: financial_data
2025-06-08 11:49:01,589 - INFO - Using cached financial data for GANECOS.NS, metric: price
2025-06-08 11:49:01,589 - INFO - Test complete: financial_data, Success: True
2025-06-08 11:49:01,589 - INFO - Testing tool: company_news
2025-06-08 11:49:01,589 - INFO - Using cached news for TATAMOTORS.NS
2025-06-08 11:49:01,590 - INFO - Test complete: company_news, Success: True
2025-06-08 11:49:01,590 - INFO - Testing tool: calculate_metrics
2025-06-08 11:49:01,590 - INFO - Test complete: calculate_metrics, Success: True
2025-06-08 11:49:03,605 - INFO - Testing tool: reasoning
2025-06-08 11:49:04,025 - WARNING - Gemini API rate limit exceeded: 429 Quota exceeded for quota metric 'Generate Content API requests per minute' and limit 'GenerateCo...
2025-06-08 11:49:04,025 - INFO - Test complete: reasoning, Success: True
2025-06-08 11:49:04,025 - INFO - Testing tool: search_knowledge_base
2025-06-08 11:49:04,027 - INFO - Using cached vector search result for query: future growth prospects...
2025-06-08 11:49:04,027 - INFO - Test complete: search_knowledge_base, Success: True
2025-06-08 18:45:20,633 - INFO - MongoDB connection established
2025-06-08 18:45:20,676 - INFO - Redis connection established
2025-06-08 18:45:22,170 - INFO - ChromaDB connection established
2025-06-08 18:45:23,523 - INFO - Starting AlphaSage test suite...
2025-06-08 18:45:23,523 - INFO - Testing vector database...
2025-06-08 18:45:48,370 - INFO - MongoDB connection established
2025-06-08 18:45:48,417 - INFO - Redis connection established
2025-06-08 18:45:48,501 - INFO - ChromaDB connection established
2025-06-08 18:45:49,604 - INFO - Starting AlphaSage test suite...
2025-06-08 18:45:49,604 - INFO - Testing vector database...
2025-06-08 19:03:14,709 - INFO - MongoDB connection established
2025-06-08 19:03:14,720 - INFO - Redis connection established
2025-06-08 19:03:14,914 - INFO - ChromaDB connection established
2025-06-08 19:03:16,216 - INFO - Starting AlphaSage test suite...
2025-06-08 19:03:16,252 - INFO - MongoDB indexes created successfully
2025-06-08 19:03:16,264 - INFO - Loaded existing ChromaDB collection: alphasage_chunks
2025-06-08 19:03:16,264 - INFO - AlphaSageVectorDB initialized with ChromaDB at ./chromadb_data
2025-06-08 19:03:16,271 - INFO - Redis connection established for micro agents
2025-06-08 19:03:16,278 - INFO - MongoDB connection established for micro agents
2025-06-08 19:05:08,246 - INFO - MongoDB connection established
2025-06-08 19:05:08,339 - INFO - Redis connection established
2025-06-08 19:05:08,449 - INFO - ChromaDB connection established
2025-06-08 19:05:13,684 - INFO - Starting AlphaSage test suite...
2025-06-08 19:05:13,697 - INFO - MongoDB indexes created successfully
2025-06-08 19:05:13,723 - INFO - Loaded existing ChromaDB collection: alphasage_chunks
2025-06-08 19:05:13,723 - INFO - AlphaSageVectorDB initialized with ChromaDB at ./chromadb_data
2025-06-08 19:05:13,731 - INFO - Redis connection established for micro agents
2025-06-08 19:05:13,750 - INFO - MongoDB connection established for micro agents
2025-06-08 19:05:41,676 - INFO - MongoDB connection established
2025-06-08 19:05:41,703 - INFO - Redis connection established
2025-06-08 19:05:41,785 - INFO - ChromaDB connection established
2025-06-08 19:05:45,298 - INFO - Starting AlphaSage test suite...
2025-06-08 19:05:45,322 - INFO - MongoDB indexes created successfully
2025-06-08 19:05:45,333 - INFO - Loaded existing ChromaDB collection: alphasage_chunks
2025-06-08 19:05:45,333 - INFO - AlphaSageVectorDB initialized with ChromaDB at ./chromadb_data
2025-06-08 19:05:45,340 - INFO - Redis connection established for micro agents
2025-06-08 19:05:45,368 - INFO - MongoDB connection established for micro agents
2025-06-08 19:05:45,475 - INFO - Configured 10 micro agents
2025-06-08 19:05:45,698 - INFO - AlphaSage Micro Agents initialized. System health: {'mongodb': True, 'redis': True, 'chromadb': True, 'gemini_api': True}
2025-06-08 19:05:45,704 - INFO - Redis connection established for macro agents
2025-06-08 19:05:45,725 - INFO - MongoDB connection established for macro agents
2025-06-08 19:05:45,734 - INFO - Redis connection established for micro agents
2025-06-08 19:05:45,739 - INFO - MongoDB connection established for micro agents
2025-06-08 19:05:45,837 - INFO - Configured 10 micro agents
2025-06-08 19:05:45,839 - INFO - AlphaSage Micro Agents initialized. System health: {'mongodb': True, 'redis': True, 'chromadb': True, 'gemini_api': True}
2025-06-08 19:22:10,757 - INFO - MongoDB connection established
2025-06-08 19:22:10,767 - INFO - Redis connection established
2025-06-08 19:22:10,955 - INFO - ChromaDB connection established
2025-06-08 19:22:15,192 - INFO - Starting AlphaSage test suite...
2025-06-08 19:22:15,218 - INFO - MongoDB indexes created successfully
2025-06-08 19:22:15,231 - INFO - Loaded existing ChromaDB collection: alphasage_chunks
2025-06-08 19:22:15,231 - INFO - AlphaSageVectorDB initialized with ChromaDB at ./chromadb_data
2025-06-08 19:22:15,237 - INFO - Redis connection established for micro agents
2025-06-08 19:22:15,262 - INFO - MongoDB connection established for micro agents
2025-06-08 19:22:15,390 - INFO - Configured 10 micro agents
2025-06-08 19:22:15,602 - INFO - AlphaSage Micro Agents initialized. System health: {'mongodb': True, 'redis': True, 'chromadb': True, 'gemini_api': True}
2025-06-08 19:22:15,607 - INFO - Redis connection established for macro agents
2025-06-08 19:22:15,635 - INFO - MongoDB connection established for macro agents
2025-06-08 19:22:15,642 - INFO - Redis connection established for micro agents
2025-06-08 19:22:15,665 - INFO - MongoDB connection established for micro agents
2025-06-08 19:22:15,803 - INFO - Configured 10 micro agents
2025-06-08 19:22:15,810 - INFO - AlphaSage Micro Agents initialized. System health: {'mongodb': True, 'redis': True, 'chromadb': True, 'gemini_api': True}
2025-06-08 19:22:15,891 - INFO - Configured 8 macro agents
2025-06-08 19:22:15,895 - INFO - AlphaSage Macro Agents initialized. System health: {'mongodb': True, 'redis': True, 'chromadb': True, 'gemini_api': True}
2025-06-08 19:22:15,897 - INFO - MongoDB connection established
2025-06-08 19:22:15,901 - INFO - Redis connection established
2025-06-08 19:22:15,903 - INFO - Loaded existing ChromaDB collection: alphasage_chunks
2025-06-08 19:22:15,903 - INFO - ChromaDB connection established
2025-06-08 19:22:15,923 - INFO - No results found in ChromaDB
2025-06-08 19:22:15,924 - ERROR - Setup failed: Expected at least 20 chunks for Ganesha Ecosphere Limited
2025-06-08 19:22:15,924 - ERROR - Test setup failed
2025-06-08 19:22:44,567 - INFO - Starting test data load...
2025-06-08 19:22:44,591 - INFO - MongoDB indexes created successfully
2025-06-08 19:22:44,801 - INFO - Loaded existing ChromaDB collection: alphasage_chunks
2025-06-08 19:22:44,802 - INFO - AlphaSageVectorDB initialized with ChromaDB at ./chromadb_data
2025-06-08 19:22:50,919 - INFO - Inserted 4 chunks into MongoDB
2025-06-08 19:22:50,963 - INFO - Starting batch embedding of 4399 chunks
2025-06-08 19:22:50,966 - INFO - Processing batch 1, chunks 1-100
2025-06-08 19:24:31,476 - INFO - Added 100 embeddings to ChromaDB
2025-06-08 19:24:31,480 - INFO - Processing batch 2, chunks 101-200
2025-06-08 19:26:11,325 - INFO - Added 100 embeddings to ChromaDB
2025-06-08 19:26:11,328 - INFO - Processing batch 3, chunks 201-300
2025-06-08 19:27:52,506 - INFO - Added 100 embeddings to ChromaDB
2025-06-08 19:27:52,509 - INFO - Processing batch 4, chunks 301-400
2025-06-08 19:29:36,670 - INFO - Added 100 embeddings to ChromaDB
2025-06-08 19:29:36,673 - INFO - Processing batch 5, chunks 401-500
2025-06-08 19:31:17,376 - INFO - Added 100 embeddings to ChromaDB
2025-06-08 19:31:17,376 - INFO - Progress: 500/4399 chunks processed
2025-06-08 19:31:17,380 - INFO - Processing batch 6, chunks 501-600
2025-06-08 19:32:57,450 - INFO - Added 100 embeddings to ChromaDB
2025-06-08 19:32:57,453 - INFO - Processing batch 7, chunks 601-700
2025-06-08 19:34:37,548 - INFO - Added 100 embeddings to ChromaDB
2025-06-08 19:34:37,550 - INFO - Processing batch 8, chunks 701-800
2025-06-08 19:36:17,790 - INFO - Added 100 embeddings to ChromaDB
2025-06-08 19:36:17,794 - INFO - Processing batch 9, chunks 801-900
2025-06-08 19:37:57,868 - INFO - Added 100 embeddings to ChromaDB
2025-06-08 19:37:57,872 - INFO - Processing batch 10, chunks 901-1000
2025-06-08 19:39:41,846 - INFO - Added 100 embeddings to ChromaDB
2025-06-08 19:39:41,846 - INFO - Progress: 1000/4399 chunks processed
2025-06-08 19:39:41,850 - INFO - Processing batch 11, chunks 1001-1100
2025-06-08 19:41:29,638 - INFO - Added 100 embeddings to ChromaDB
2025-06-08 19:41:29,641 - INFO - Processing batch 12, chunks 1101-1200
2025-06-08 19:43:09,698 - INFO - Added 100 embeddings to ChromaDB
2025-06-08 19:43:09,703 - INFO - Processing batch 13, chunks 1201-1300
2025-06-08 19:44:49,775 - INFO - Added 100 embeddings to ChromaDB
2025-06-08 19:44:49,780 - INFO - Processing batch 14, chunks 1301-1400
2025-06-08 19:46:29,831 - INFO - Added 100 embeddings to ChromaDB
2025-06-08 19:46:29,836 - INFO - Processing batch 15, chunks 1401-1500
2025-06-08 19:48:09,953 - INFO - Added 100 embeddings to ChromaDB
2025-06-08 19:48:09,953 - INFO - Progress: 1500/4399 chunks processed
2025-06-08 19:48:09,956 - INFO - Processing batch 16, chunks 1501-1600
2025-06-08 19:49:53,059 - INFO - Added 100 embeddings to ChromaDB
2025-06-08 19:49:53,064 - INFO - Processing batch 17, chunks 1601-1700
2025-06-08 19:51:34,419 - INFO - Added 100 embeddings to ChromaDB
2025-06-08 19:51:34,423 - INFO - Processing batch 18, chunks 1701-1800
2025-06-08 19:53:14,463 - INFO - Added 100 embeddings to ChromaDB
2025-06-08 19:53:14,466 - INFO - Processing batch 19, chunks 1801-1900
2025-06-08 19:54:54,557 - INFO - Added 100 embeddings to ChromaDB
2025-06-08 19:54:54,563 - INFO - Processing batch 20, chunks 1901-2000
2025-06-08 19:56:34,655 - INFO - Added 100 embeddings to ChromaDB
2025-06-08 19:56:34,655 - INFO - Progress: 2000/4399 chunks processed
2025-06-08 19:56:34,659 - INFO - Processing batch 21, chunks 2001-2100
2025-06-08 19:58:14,853 - INFO - Added 100 embeddings to ChromaDB
2025-06-08 19:58:14,857 - INFO - Processing batch 22, chunks 2101-2200
2025-06-08 19:59:56,951 - INFO - Added 100 embeddings to ChromaDB
2025-06-08 19:59:56,954 - INFO - Processing batch 23, chunks 2201-2300
2025-06-08 20:01:37,032 - INFO - Added 100 embeddings to ChromaDB
2025-06-08 20:01:37,036 - INFO - Processing batch 24, chunks 2301-2400
2025-06-08 20:03:17,100 - INFO - Added 100 embeddings to ChromaDB
2025-06-08 20:03:17,103 - INFO - Processing batch 25, chunks 2401-2500
2025-06-08 20:04:57,204 - INFO - Added 100 embeddings to ChromaDB
2025-06-08 20:04:57,204 - INFO - Progress: 2500/4399 chunks processed
2025-06-08 20:04:57,208 - INFO - Processing batch 26, chunks 2501-2600
2025-06-08 20:06:37,258 - INFO - Added 100 embeddings to ChromaDB
2025-06-08 20:06:37,264 - INFO - Processing batch 27, chunks 2601-2700
2025-06-08 20:08:17,390 - INFO - Added 100 embeddings to ChromaDB
2025-06-08 20:08:17,394 - INFO - Processing batch 28, chunks 2701-2800
2025-06-08 20:09:58,153 - INFO - Added 100 embeddings to ChromaDB
2025-06-08 20:09:58,158 - INFO - Processing batch 29, chunks 2801-2900
2025-06-08 20:11:39,279 - INFO - Added 100 embeddings to ChromaDB
2025-06-08 20:11:39,283 - INFO - Processing batch 30, chunks 2901-3000
2025-06-08 20:13:19,343 - INFO - Added 100 embeddings to ChromaDB
2025-06-08 20:13:19,345 - INFO - Progress: 3000/4399 chunks processed
2025-06-08 20:13:19,349 - INFO - Processing batch 31, chunks 3001-3100
2025-06-08 20:14:59,388 - INFO - Added 100 embeddings to ChromaDB
2025-06-08 20:14:59,396 - INFO - Processing batch 32, chunks 3101-3200
2025-06-08 20:16:39,474 - INFO - Added 100 embeddings to ChromaDB
2025-06-08 20:16:39,480 - INFO - Processing batch 33, chunks 3201-3300
2025-06-08 20:18:19,580 - INFO - Added 100 embeddings to ChromaDB
2025-06-08 20:18:19,585 - INFO - Processing batch 34, chunks 3301-3400
2025-06-08 20:20:00,828 - INFO - Added 100 embeddings to ChromaDB
2025-06-08 20:20:00,834 - INFO - Processing batch 35, chunks 3401-3500
2025-06-08 20:21:42,794 - INFO - Added 100 embeddings to ChromaDB
2025-06-08 20:21:42,794 - INFO - Progress: 3500/4399 chunks processed
2025-06-08 20:21:42,798 - INFO - Processing batch 36, chunks 3501-3600
2025-06-08 20:23:23,998 - INFO - Added 100 embeddings to ChromaDB
2025-06-08 20:23:24,004 - INFO - Processing batch 37, chunks 3601-3700
2025-06-08 20:25:03,792 - INFO - Added 100 embeddings to ChromaDB
2025-06-08 20:25:03,797 - INFO - Processing batch 38, chunks 3701-3800
2025-06-08 20:26:43,919 - INFO - Added 100 embeddings to ChromaDB
2025-06-08 20:26:43,924 - INFO - Processing batch 39, chunks 3801-3900
2025-06-08 20:28:23,989 - INFO - Added 100 embeddings to ChromaDB
2025-06-08 20:28:23,994 - INFO - Processing batch 40, chunks 3901-4000
2025-06-08 20:30:04,515 - INFO - Added 100 embeddings to ChromaDB
2025-06-08 20:30:04,515 - INFO - Progress: 4000/4399 chunks processed
2025-06-08 20:30:04,522 - INFO - Processing batch 41, chunks 4001-4100
2025-06-08 20:31:46,216 - INFO - Added 100 embeddings to ChromaDB
2025-06-08 20:31:46,223 - INFO - Processing batch 42, chunks 4101-4200
2025-06-08 20:33:29,323 - INFO - Added 100 embeddings to ChromaDB
2025-06-08 20:33:29,332 - INFO - Processing batch 43, chunks 4201-4300
2025-06-08 20:35:09,401 - INFO - Added 100 embeddings to ChromaDB
2025-06-08 20:35:09,413 - INFO - Processing batch 44, chunks 4301-4399
2025-06-08 20:36:48,560 - INFO - Added 99 embeddings to ChromaDB
2025-06-08 20:36:48,562 - INFO - Batch embedding completed. Stats: {'processed': 4399, 'embedded': 4399, 'skipped': 0, 'errors': 0}
2025-06-08 20:36:48,638 - INFO - No results found in ChromaDB
2025-06-08 20:36:48,641 - INFO - Retrieved 0 chunks from ChromaDB
2025-06-08 20:36:48,641 - WARNING - Only 0 chunks found, expected at least 20
2025-06-08 20:36:48,646 - INFO - Database connections closed
2025-06-08 20:36:56,014 - INFO - MongoDB connection established
2025-06-08 20:36:56,032 - INFO - Redis connection established
2025-06-08 20:36:56,125 - INFO - ChromaDB connection established
2025-06-08 20:37:00,418 - INFO - Starting AlphaSage test suite...
2025-06-08 20:37:00,470 - INFO - MongoDB indexes created successfully
2025-06-08 20:37:00,482 - INFO - Loaded existing ChromaDB collection: alphasage_chunks
2025-06-08 20:37:00,482 - INFO - AlphaSageVectorDB initialized with ChromaDB at ./chromadb_data
2025-06-08 20:37:00,492 - INFO - Redis connection established for micro agents
2025-06-08 20:37:00,514 - INFO - MongoDB connection established for micro agents
2025-06-08 20:37:00,650 - INFO - Configured 10 micro agents
2025-06-08 20:37:00,796 - INFO - AlphaSage Micro Agents initialized. System health: {'mongodb': True, 'redis': True, 'chromadb': True, 'gemini_api': True}
2025-06-08 20:37:00,803 - INFO - Redis connection established for macro agents
2025-06-08 20:37:00,812 - INFO - MongoDB connection established for macro agents
2025-06-08 20:37:00,817 - INFO - Redis connection established for micro agents
2025-06-08 20:37:00,840 - INFO - MongoDB connection established for micro agents
2025-06-08 20:37:00,951 - INFO - Configured 10 micro agents
2025-06-08 20:37:00,954 - INFO - AlphaSage Micro Agents initialized. System health: {'mongodb': True, 'redis': True, 'chromadb': True, 'gemini_api': True}
2025-06-08 20:37:01,044 - INFO - Configured 8 macro agents
2025-06-08 20:37:01,047 - INFO - AlphaSage Macro Agents initialized. System health: {'mongodb': True, 'redis': True, 'chromadb': True, 'gemini_api': True}
2025-06-08 20:37:01,129 - INFO - MongoDB connection established
2025-06-08 20:37:01,136 - INFO - Redis connection established
2025-06-08 20:37:01,137 - INFO - Loaded existing ChromaDB collection: alphasage_chunks
2025-06-08 20:37:01,137 - INFO - ChromaDB connection established
2025-06-08 20:37:01,167 - INFO - No results found in ChromaDB
2025-06-08 20:37:01,167 - ERROR - Setup failed: Expected at least 20 chunks for Ganesha Ecosphere Limited
2025-06-08 20:37:01,168 - ERROR - Test setup failed
2025-06-08 20:38:21,625 - INFO - MongoDB connection established
2025-06-08 20:38:21,639 - INFO - Redis connection established
2025-06-08 20:38:21,753 - INFO - ChromaDB connection established
2025-06-08 20:38:26,764 - INFO - Starting AlphaSage test suite...
2025-06-08 20:38:26,784 - INFO - MongoDB indexes created successfully
2025-06-08 20:38:26,799 - INFO - Loaded existing ChromaDB collection: alphasage_chunks
2025-06-08 20:38:26,800 - INFO - AlphaSageVectorDB initialized with ChromaDB at ./chromadb_data
2025-06-08 20:38:26,807 - INFO - Redis connection established for micro agents
2025-06-08 20:38:26,813 - INFO - MongoDB connection established for micro agents
2025-06-08 20:38:27,052 - INFO - Configured 10 micro agents
2025-06-08 20:38:27,212 - INFO - AlphaSage Micro Agents initialized. System health: {'mongodb': True, 'redis': True, 'chromadb': True, 'gemini_api': True}
2025-06-08 20:38:27,218 - INFO - Redis connection established for macro agents
2025-06-08 20:38:27,232 - INFO - MongoDB connection established for macro agents
2025-06-08 20:38:27,252 - INFO - Redis connection established for micro agents
2025-06-08 20:38:27,273 - INFO - MongoDB connection established for micro agents
2025-06-08 20:38:27,411 - INFO - Configured 10 micro agents
2025-06-08 20:38:27,413 - INFO - AlphaSage Micro Agents initialized. System health: {'mongodb': True, 'redis': True, 'chromadb': True, 'gemini_api': True}
2025-06-08 20:38:27,534 - INFO - Configured 8 macro agents
2025-06-08 20:38:27,537 - INFO - AlphaSage Macro Agents initialized. System health: {'mongodb': True, 'redis': True, 'chromadb': True, 'gemini_api': True}
2025-06-08 20:38:27,564 - INFO - MongoDB connection established
2025-06-08 20:38:27,575 - INFO - Redis connection established
2025-06-08 20:38:27,577 - INFO - Loaded existing ChromaDB collection: alphasage_chunks
2025-06-08 20:38:27,577 - INFO - ChromaDB connection established
2025-06-08 20:38:27,587 - INFO - No results found in ChromaDB
2025-06-08 20:38:27,587 - ERROR - Setup failed: Expected at least 20 chunks for Ganesha Ecosphere Limited
2025-06-08 20:38:27,588 - ERROR - Test setup failed
2025-06-08 20:39:02,058 - INFO - Starting test data load...
2025-06-08 20:39:02,074 - INFO - MongoDB indexes created successfully
2025-06-08 20:39:02,181 - INFO - Loaded existing ChromaDB collection: alphasage_chunks
2025-06-08 20:39:02,182 - INFO - AlphaSageVectorDB initialized with ChromaDB at ./chromadb_data
2025-06-08 20:39:04,421 - INFO - Inserted 4 chunks into MongoDB
2025-06-08 20:39:04,429 - INFO - Starting batch embedding of 4399 chunks
2025-06-08 20:39:04,432 - INFO - Processing batch 1, chunks 1-100
2025-06-08 20:40:46,080 - INFO - Added 100 embeddings to ChromaDB
2025-06-08 20:40:46,086 - INFO - Processing batch 2, chunks 101-200
2025-06-08 20:42:26,609 - INFO - Added 100 embeddings to ChromaDB
2025-06-08 20:42:26,614 - INFO - Processing batch 3, chunks 201-300
2025-06-08 20:44:06,700 - INFO - Added 100 embeddings to ChromaDB
2025-06-08 20:44:06,705 - INFO - Processing batch 4, chunks 301-400
2025-06-08 20:45:46,784 - INFO - Added 100 embeddings to ChromaDB
2025-06-08 20:45:46,788 - INFO - Processing batch 5, chunks 401-500
2025-06-08 20:47:26,818 - INFO - Added 100 embeddings to ChromaDB
2025-06-08 20:47:26,818 - INFO - Progress: 500/4399 chunks processed
2025-06-08 20:47:26,823 - INFO - Processing batch 6, chunks 501-600
2025-06-08 20:49:06,865 - INFO - Added 100 embeddings to ChromaDB
2025-06-08 20:49:06,870 - INFO - Processing batch 7, chunks 601-700
2025-06-08 20:50:47,121 - INFO - Added 100 embeddings to ChromaDB
2025-06-08 20:50:47,124 - INFO - Processing batch 8, chunks 701-800
2025-06-08 20:52:27,964 - INFO - Added 100 embeddings to ChromaDB
2025-06-08 20:52:27,968 - INFO - Processing batch 9, chunks 801-900
2025-06-08 20:54:08,041 - INFO - Added 100 embeddings to ChromaDB
2025-06-08 20:54:08,044 - INFO - Processing batch 10, chunks 901-1000
2025-06-08 20:55:48,107 - INFO - Added 100 embeddings to ChromaDB
2025-06-08 20:55:48,107 - INFO - Progress: 1000/4399 chunks processed
2025-06-08 20:55:48,112 - INFO - Processing batch 11, chunks 1001-1100
2025-06-08 20:57:28,182 - INFO - Added 100 embeddings to ChromaDB
2025-06-08 20:57:28,188 - INFO - Processing batch 12, chunks 1101-1200
2025-06-08 20:59:08,268 - INFO - Added 100 embeddings to ChromaDB
2025-06-08 20:59:08,273 - INFO - Processing batch 13, chunks 1201-1300
2025-06-08 21:00:49,148 - INFO - Added 100 embeddings to ChromaDB
2025-06-08 21:00:49,152 - INFO - Processing batch 14, chunks 1301-1400
2025-06-08 21:02:29,508 - INFO - Added 100 embeddings to ChromaDB
2025-06-08 21:02:29,512 - INFO - Processing batch 15, chunks 1401-1500
2025-06-08 21:04:09,586 - INFO - Added 100 embeddings to ChromaDB
2025-06-08 21:04:09,586 - INFO - Progress: 1500/4399 chunks processed
2025-06-08 21:04:09,590 - INFO - Processing batch 16, chunks 1501-1600
2025-06-08 21:05:49,618 - INFO - Added 100 embeddings to ChromaDB
2025-06-08 21:05:49,624 - INFO - Processing batch 17, chunks 1601-1700
2025-06-08 21:07:29,754 - INFO - Added 100 embeddings to ChromaDB
2025-06-08 21:07:29,760 - INFO - Processing batch 18, chunks 1701-1800
2025-06-08 21:09:09,823 - INFO - Added 100 embeddings to ChromaDB
2025-06-08 21:09:09,828 - INFO - Processing batch 19, chunks 1801-1900
2025-06-08 21:10:51,135 - INFO - Added 100 embeddings to ChromaDB
2025-06-08 21:10:51,144 - INFO - Processing batch 20, chunks 1901-2000
2025-06-08 21:12:32,085 - INFO - Added 100 embeddings to ChromaDB
2025-06-08 21:12:32,085 - INFO - Progress: 2000/4399 chunks processed
2025-06-08 21:12:32,090 - INFO - Processing batch 21, chunks 2001-2100
2025-06-08 21:14:12,172 - INFO - Added 100 embeddings to ChromaDB
2025-06-08 21:14:12,178 - INFO - Processing batch 22, chunks 2101-2200
2025-06-08 21:15:52,264 - INFO - Added 100 embeddings to ChromaDB
2025-06-08 21:15:52,274 - INFO - Processing batch 23, chunks 2201-2300
2025-06-08 21:17:32,336 - INFO - Added 100 embeddings to ChromaDB
2025-06-08 21:17:32,342 - INFO - Processing batch 24, chunks 2301-2400
2025-06-08 21:19:12,443 - INFO - Added 100 embeddings to ChromaDB
2025-06-08 21:19:12,449 - INFO - Processing batch 25, chunks 2401-2500
2025-06-08 21:20:54,175 - INFO - Added 100 embeddings to ChromaDB
2025-06-08 21:20:54,176 - INFO - Progress: 2500/4399 chunks processed
2025-06-08 21:20:54,182 - INFO - Processing batch 26, chunks 2501-2600
2025-06-08 21:22:34,651 - INFO - Added 100 embeddings to ChromaDB
2025-06-08 21:22:34,657 - INFO - Processing batch 27, chunks 2601-2700
2025-06-08 21:24:14,737 - INFO - Added 100 embeddings to ChromaDB
2025-06-08 21:24:14,743 - INFO - Processing batch 28, chunks 2701-2800
2025-06-08 21:25:54,771 - INFO - Added 100 embeddings to ChromaDB
2025-06-08 21:25:54,776 - INFO - Processing batch 29, chunks 2801-2900
2025-06-08 21:27:34,991 - INFO - Added 100 embeddings to ChromaDB
2025-06-08 21:27:35,004 - INFO - Processing batch 30, chunks 2901-3000
2025-06-08 21:29:14,985 - INFO - Added 100 embeddings to ChromaDB
2025-06-08 21:29:14,985 - INFO - Progress: 3000/4399 chunks processed
2025-06-08 21:29:14,992 - INFO - Processing batch 31, chunks 3001-3100
2025-06-08 21:30:55,202 - INFO - Added 100 embeddings to ChromaDB
2025-06-08 21:30:55,209 - INFO - Processing batch 32, chunks 3101-3200
2025-06-08 21:32:35,431 - INFO - Added 100 embeddings to ChromaDB
2025-06-08 21:32:35,448 - INFO - Processing batch 33, chunks 3201-3300
2025-06-08 21:34:15,222 - INFO - Added 100 embeddings to ChromaDB
2025-06-08 21:34:15,228 - INFO - Processing batch 34, chunks 3301-3400
2025-06-08 21:35:55,438 - INFO - Added 100 embeddings to ChromaDB
2025-06-08 21:35:55,449 - INFO - Processing batch 35, chunks 3401-3500
2025-06-08 21:37:35,414 - INFO - Added 100 embeddings to ChromaDB
2025-06-08 21:37:35,414 - INFO - Progress: 3500/4399 chunks processed
2025-06-08 21:37:35,422 - INFO - Processing batch 36, chunks 3501-3600
2025-06-08 21:39:16,577 - INFO - Added 100 embeddings to ChromaDB
2025-06-08 21:39:16,585 - INFO - Processing batch 37, chunks 3601-3700
2025-06-08 21:40:56,474 - INFO - Added 100 embeddings to ChromaDB
2025-06-08 21:40:56,481 - INFO - Processing batch 38, chunks 3701-3800
2025-06-08 21:42:36,663 - INFO - Added 100 embeddings to ChromaDB
2025-06-08 21:42:36,669 - INFO - Processing batch 39, chunks 3801-3900
2025-06-08 21:45:00,139 - INFO - Added 100 embeddings to ChromaDB
2025-06-08 21:45:00,144 - INFO - Processing batch 40, chunks 3901-4000
2025-06-08 21:46:39,741 - INFO - Added 100 embeddings to ChromaDB
2025-06-08 21:46:39,742 - INFO - Progress: 4000/4399 chunks processed
2025-06-08 21:46:39,747 - INFO - Processing batch 41, chunks 4001-4100
2025-06-08 21:48:21,462 - INFO - Added 100 embeddings to ChromaDB
2025-06-08 21:48:21,471 - INFO - Processing batch 42, chunks 4101-4200
2025-06-08 21:50:01,512 - INFO - Added 100 embeddings to ChromaDB
2025-06-08 21:50:01,518 - INFO - Processing batch 43, chunks 4201-4300
2025-06-08 21:51:42,152 - INFO - Added 100 embeddings to ChromaDB
2025-06-08 21:51:42,158 - INFO - Processing batch 44, chunks 4301-4399
2025-06-08 21:53:21,218 - INFO - Added 99 embeddings to ChromaDB
2025-06-08 21:53:21,219 - INFO - Batch embedding completed. Stats: {'processed': 4399, 'embedded': 4399, 'skipped': 0, 'errors': 0}
2025-06-08 21:53:21,309 - INFO - No results found in ChromaDB
2025-06-08 21:53:21,310 - INFO - Retrieved 0 chunks from ChromaDB
2025-06-08 21:53:21,311 - WARNING - Only 0 chunks found, expected at least 20
2025-06-08 21:53:21,315 - INFO - Database connections closed
2025-06-08 22:52:33,206 - INFO - MongoDB connection established
2025-06-08 22:52:33,235 - INFO - Redis connection established
2025-06-08 22:52:33,625 - INFO - ChromaDB connection established
2025-06-08 22:52:38,828 - INFO - Starting AlphaSage test suite...
2025-06-08 22:52:38,919 - INFO - MongoDB indexes created successfully
2025-06-08 22:52:38,931 - INFO - Loaded existing ChromaDB collection: alphasage_chunks
2025-06-08 22:52:38,932 - INFO - AlphaSageVectorDB initialized with ChromaDB at ./chromadb_data
2025-06-08 22:52:38,939 - INFO - Redis connection established for micro agents
2025-06-08 22:52:38,963 - INFO - MongoDB connection established for micro agents
2025-06-08 22:52:39,078 - INFO - Configured 10 micro agents
2025-06-08 22:52:39,360 - INFO - AlphaSage Micro Agents initialized. System health: {'mongodb': True, 'redis': True, 'chromadb': True, 'gemini_api': True}
2025-06-08 22:52:39,364 - INFO - Redis connection established for macro agents
2025-06-08 22:52:39,372 - INFO - MongoDB connection established for macro agents
2025-06-08 22:52:39,377 - INFO - Redis connection established for micro agents
2025-06-08 22:52:39,382 - INFO - MongoDB connection established for micro agents
2025-06-08 22:52:39,490 - INFO - Configured 10 micro agents
2025-06-08 22:52:39,495 - INFO - AlphaSage Micro Agents initialized. System health: {'mongodb': True, 'redis': True, 'chromadb': True, 'gemini_api': True}
2025-06-08 22:52:39,578 - INFO - Configured 8 macro agents
2025-06-08 22:52:39,582 - INFO - AlphaSage Macro Agents initialized. System health: {'mongodb': True, 'redis': True, 'chromadb': True, 'gemini_api': True}
2025-06-08 22:52:39,585 - INFO - MongoDB connection established
2025-06-08 22:52:39,592 - INFO - Redis connection established
2025-06-08 22:52:39,593 - INFO - Loaded existing ChromaDB collection: alphasage_chunks
2025-06-08 22:52:39,594 - INFO - ChromaDB connection established
2025-06-08 22:52:39,609 - INFO - No results found in ChromaDB
2025-06-08 22:52:39,611 - ERROR - Setup failed: Expected at least 20 chunks for Ganesha Ecosphere Limited
2025-06-08 22:52:39,611 - ERROR - Test setup failed
2025-06-08 22:53:09,801 - INFO - MongoDB connection established
2025-06-08 22:53:09,812 - INFO - Redis connection established
2025-06-08 22:53:09,893 - INFO - ChromaDB connection established
2025-06-08 22:53:13,854 - INFO - Starting AlphaSage test suite...
2025-06-08 22:53:13,865 - INFO - MongoDB indexes created successfully
2025-06-08 22:53:13,877 - INFO - Loaded existing ChromaDB collection: alphasage_chunks
2025-06-08 22:53:13,878 - INFO - AlphaSageVectorDB initialized with ChromaDB at ./chromadb_data
2025-06-08 22:53:13,892 - INFO - Redis connection established for micro agents
2025-06-08 22:53:13,897 - INFO - MongoDB connection established for micro agents
2025-06-08 22:53:14,008 - INFO - Configured 10 micro agents
2025-06-08 22:53:14,073 - INFO - AlphaSage Micro Agents initialized. System health: {'mongodb': True, 'redis': True, 'chromadb': True, 'gemini_api': True}
2025-06-08 22:53:14,079 - INFO - Redis connection established for macro agents
2025-06-08 22:53:14,106 - INFO - MongoDB connection established for macro agents
2025-06-08 22:53:14,111 - INFO - Redis connection established for micro agents
2025-06-08 22:53:14,115 - INFO - MongoDB connection established for micro agents
2025-06-08 22:53:14,219 - INFO - Configured 10 micro agents
2025-06-08 22:53:14,223 - INFO - AlphaSage Micro Agents initialized. System health: {'mongodb': True, 'redis': True, 'chromadb': True, 'gemini_api': True}
2025-06-08 22:53:14,302 - INFO - Configured 8 macro agents
2025-06-08 22:53:14,304 - INFO - AlphaSage Macro Agents initialized. System health: {'mongodb': True, 'redis': True, 'chromadb': True, 'gemini_api': True}
2025-06-08 22:53:14,306 - INFO - MongoDB connection established
2025-06-08 22:53:14,310 - INFO - Redis connection established
2025-06-08 22:53:14,311 - INFO - Loaded existing ChromaDB collection: alphasage_chunks
2025-06-08 22:53:14,311 - INFO - ChromaDB connection established
2025-06-08 22:53:14,321 - INFO - No results found in ChromaDB
2025-06-08 22:53:14,321 - ERROR - Setup failed: Expected at least 20 chunks for Ganesha Ecosphere Limited
2025-06-08 22:53:14,321 - ERROR - Test setup failed
2025-06-08 22:53:30,798 - INFO - Starting test data load...
2025-06-08 22:53:30,849 - INFO - MongoDB indexes created successfully
2025-06-08 22:53:30,947 - INFO - Loaded existing ChromaDB collection: alphasage_chunks
2025-06-08 22:53:30,948 - INFO - AlphaSageVectorDB initialized with ChromaDB at ./chromadb_data
2025-06-08 22:53:35,592 - INFO - Inserted 4 chunks into MongoDB
2025-06-08 22:53:35,607 - INFO - Starting batch embedding of 4403 chunks
2025-06-08 22:53:35,609 - INFO - Processing batch 1, chunks 1-100
2025-06-08 22:55:25,415 - INFO - Added 100 embeddings to ChromaDB
2025-06-08 22:55:25,417 - INFO - Processing batch 2, chunks 101-200
2025-06-08 22:57:05,405 - INFO - Added 100 embeddings to ChromaDB
2025-06-08 22:57:05,408 - INFO - Processing batch 3, chunks 201-300
2025-06-08 22:58:45,508 - INFO - Added 100 embeddings to ChromaDB
2025-06-08 22:58:45,510 - INFO - Processing batch 4, chunks 301-400
2025-06-08 23:00:25,567 - INFO - Added 100 embeddings to ChromaDB
2025-06-08 23:00:25,571 - INFO - Processing batch 5, chunks 401-500
2025-06-08 23:02:05,649 - INFO - Added 100 embeddings to ChromaDB
2025-06-08 23:02:05,649 - INFO - Progress: 500/4403 chunks processed
2025-06-08 23:02:05,652 - INFO - Processing batch 6, chunks 501-600
2025-06-08 23:03:46,654 - INFO - Added 100 embeddings to ChromaDB
2025-06-08 23:03:46,657 - INFO - Processing batch 7, chunks 601-700
2025-06-08 23:05:28,019 - INFO - Added 100 embeddings to ChromaDB
2025-06-08 23:05:28,022 - INFO - Processing batch 8, chunks 701-800
2025-06-08 23:07:08,118 - INFO - Added 100 embeddings to ChromaDB
2025-06-08 23:07:08,121 - INFO - Processing batch 9, chunks 801-900
2025-06-08 23:08:48,216 - INFO - Added 100 embeddings to ChromaDB
2025-06-08 23:08:48,219 - INFO - Processing batch 10, chunks 901-1000
2025-06-08 23:10:28,247 - INFO - Added 100 embeddings to ChromaDB
2025-06-08 23:10:28,247 - INFO - Progress: 1000/4403 chunks processed
2025-06-08 23:10:28,251 - INFO - Processing batch 11, chunks 1001-1100
2025-06-08 23:12:08,339 - INFO - Added 100 embeddings to ChromaDB
2025-06-08 23:12:08,342 - INFO - Processing batch 12, chunks 1101-1200
2025-06-08 23:13:48,744 - INFO - Added 100 embeddings to ChromaDB
2025-06-08 23:13:48,748 - INFO - Processing batch 13, chunks 1201-1300
2025-06-08 23:15:29,965 - INFO - Added 100 embeddings to ChromaDB
2025-06-08 23:15:29,968 - INFO - Processing batch 14, chunks 1301-1400
2025-06-08 23:17:10,040 - INFO - Added 100 embeddings to ChromaDB
2025-06-08 23:17:10,043 - INFO - Processing batch 15, chunks 1401-1500
2025-06-08 23:18:37,742 - INFO - MongoDB connection established
2025-06-08 23:18:37,790 - INFO - Redis connection established
2025-06-08 23:18:37,879 - INFO - ChromaDB connection established
2025-06-08 23:18:41,824 - INFO - Starting AlphaSage test suite...
2025-06-08 23:18:41,880 - INFO - MongoDB indexes created successfully
2025-06-08 23:18:41,899 - INFO - Loaded existing ChromaDB collection: alphasage_chunks
2025-06-08 23:18:41,899 - INFO - AlphaSageVectorDB initialized with ChromaDB at ./chromadb_data
2025-06-08 23:18:41,905 - INFO - Redis connection established for micro agents
2025-06-08 23:18:41,934 - INFO - MongoDB connection established for micro agents
2025-06-08 23:18:42,053 - INFO - Configured 10 micro agents
2025-06-08 23:18:42,110 - INFO - AlphaSage Micro Agents initialized. System health: {'mongodb': True, 'redis': True, 'chromadb': True, 'gemini_api': True}
2025-06-08 23:18:42,119 - INFO - Redis connection established for macro agents
2025-06-08 23:18:42,130 - INFO - MongoDB connection established for macro agents
2025-06-08 23:18:42,138 - INFO - Redis connection established for micro agents
2025-06-08 23:18:42,148 - INFO - MongoDB connection established for micro agents
2025-06-08 23:18:42,269 - INFO - Configured 10 micro agents
2025-06-08 23:18:42,271 - INFO - AlphaSage Micro Agents initialized. System health: {'mongodb': True, 'redis': True, 'chromadb': True, 'gemini_api': True}
2025-06-08 23:18:42,349 - INFO - Configured 8 macro agents
2025-06-08 23:18:42,353 - INFO - AlphaSage Macro Agents initialized. System health: {'mongodb': True, 'redis': True, 'chromadb': True, 'gemini_api': True}
2025-06-08 23:18:42,355 - INFO - MongoDB connection established
2025-06-08 23:18:42,359 - INFO - Redis connection established
2025-06-08 23:18:42,361 - INFO - Loaded existing ChromaDB collection: alphasage_chunks
2025-06-08 23:18:42,361 - INFO - ChromaDB connection established
2025-06-08 23:18:42,382 - INFO - No results found in ChromaDB
2025-06-08 23:18:42,383 - ERROR - Setup failed: Expected at least 20 chunks for Ganesha Ecosphere Limited
2025-06-08 23:18:42,383 - ERROR - Test setup failed
2025-06-08 23:18:50,225 - INFO - Added 100 embeddings to ChromaDB
2025-06-08 23:18:50,226 - INFO - Progress: 1500/4403 chunks processed
2025-06-08 23:18:50,229 - INFO - Processing batch 16, chunks 1501-1600
2025-06-08 23:19:15,941 - INFO - Starting test data load...
2025-06-08 23:19:15,947 - INFO - MongoDB connection established
2025-06-08 23:19:15,995 - INFO - MongoDB indexes created successfully
2025-06-08 23:19:16,105 - INFO - Loaded existing ChromaDB collection: alphasage_chunks
2025-06-08 23:19:16,105 - INFO - AlphaSageVectorDB initialized with ChromaDB at ./chromadb_data
2025-06-08 23:19:16,105 - INFO - Vector DB initialized
2025-06-08 23:19:16,105 - INFO - Fetching data for GANECOS.NS from Yahoo Finance
2025-06-08 23:19:16,106 - INFO - Fetching company info
2025-06-08 23:19:17,278 - INFO - Creating financial ratios chunk
2025-06-08 23:19:17,278 - INFO - Fetching historical data
2025-06-08 23:19:17,474 - INFO - Fetching news articles
2025-06-08 23:19:17,698 - WARNING - No news articles found for GANECOS.NS
2025-06-08 23:19:17,699 - INFO - Fetching financial statements
2025-06-08 23:19:17,880 - INFO - Loading 4 chunks into MongoDB
2025-06-08 23:19:17,895 - INFO - Deleted 4 existing chunks
2025-06-08 23:19:17,897 - INFO - Inserted 4 chunks into MongoDB
2025-06-08 23:19:17,898 - INFO - Starting batch embedding
2025-06-08 23:19:17,902 - INFO - Starting batch embedding of 4403 chunks
2025-06-08 23:19:17,904 - INFO - Processing batch 1, chunks 1-100
2025-06-09 10:16:51,005 - INFO - MongoDB connection established
2025-06-09 10:16:51,012 - INFO - Redis connection established
2025-06-09 10:16:51,168 - INFO - ChromaDB connection established
2025-06-09 10:16:51,334 - INFO - Testing tool: financial_data
2025-06-09 10:16:52,187 - INFO - Test complete: financial_data, Success: True
2025-06-09 10:16:52,187 - INFO - Testing tool: financial_data
2025-06-09 10:16:52,461 - INFO - Test complete: financial_data, Success: True
2025-06-09 10:16:52,462 - INFO - Testing tool: company_news
2025-06-09 10:16:52,840 - INFO - Stored 5 news articles for Tata Motors in MongoDB
2025-06-09 10:16:52,841 - INFO - Test complete: company_news, Success: True
2025-06-09 10:16:52,842 - INFO - Testing tool: calculate_metrics
2025-06-09 10:16:52,842 - INFO - Test complete: calculate_metrics, Success: True
2025-06-09 10:16:54,859 - INFO - Testing tool: reasoning
2025-06-09 10:16:55,348 - WARNING - Gemini API rate limit exceeded: 429 Quota exceeded for quota metric 'Generate Content API requests per minute' and limit 'GenerateCo...
2025-06-09 10:16:55,359 - INFO - Test complete: reasoning, Success: True
2025-06-09 10:16:55,361 - INFO - Testing tool: search_knowledge_base
2025-06-09 10:16:55,378 - INFO - MongoDB indexes created successfully
2025-06-09 10:16:55,401 - INFO - Loaded existing ChromaDB collection: alphasage_chunks
2025-06-09 10:16:55,401 - INFO - AlphaSageVectorDB initialized with ChromaDB at ./chromadb_data
2025-06-09 10:16:55,853 - ERROR - Error in retrieve_chunks: Expected where to have exactly one operator, got {'company_name': {'$eq': 'Ganesha Ecosphere'}, 'category': {'$eq': 'Future Insights'}} in query.
2025-06-09 10:16:55,928 - ERROR - Traceback (most recent call last):
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\vector.py", line 374, in retrieve_chunks
    results = self.chroma_collection.query(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\chromadb\api\models\Collection.py", line 209, in query
    query_request = self._validate_and_prepare_query_request(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\chromadb\api\models\CollectionCommon.py", line 95, in wrapper
    return func(self, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\chromadb\api\models\CollectionCommon.py", line 309, in _validate_and_prepare_query_request
    validate_filter_set(filter_set=filters)
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\chromadb\api\types.py", line 354, in validate_filter_set
    validate_where(filter_set["where"])
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\chromadb\api\types.py", line 739, in validate_where
    raise ValueError(f"Expected where to have exactly one operator, got {where}")
ValueError: Expected where to have exactly one operator, got {'company_name': {'$eq': 'Ganesha Ecosphere'}, 'category': {'$eq': 'Future Insights'}} in query.

2025-06-09 10:16:55,929 - INFO - Database connections closed
2025-06-09 10:16:55,929 - INFO - Test complete: search_knowledge_base, Success: True
2025-06-09 10:21:47,557 - INFO - MongoDB connection established
2025-06-09 10:21:47,562 - INFO - Redis connection established
2025-06-09 10:21:47,635 - INFO - ChromaDB connection established
2025-06-09 10:21:47,641 - INFO - Redis connection established for micro agents
2025-06-09 10:21:47,663 - INFO - MongoDB connection established for micro agents
2025-06-09 10:21:47,768 - INFO - Configured 10 micro agents
2025-06-09 10:21:47,916 - INFO - AlphaSage Micro Agents initialized. System health: {'mongodb': True, 'redis': True, 'chromadb': True, 'gemini_api': True}
2025-06-09 10:21:47,916 - INFO - Testing micro agent: valuation
2025-06-09 10:21:47,917 - ERROR - Agent Error: '<' not supported between instances of 'int' and 'str', Context: {"ticker": "TATAMOTORS.NS", "company_name": "Tata Motors"}
2025-06-09 10:21:47,929 - ERROR - Traceback (most recent call last):
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\microagent.py", line 315, in calculate_valuation_ratios
    pe_data = await self.retry_tool_call(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\microagent.py", line 265, in retry_tool_call
    while attempt < max_attempts:
          ^^^^^^^^^^^^^^^^^^^^^^
TypeError: '<' not supported between instances of 'int' and 'str'

2025-06-09 10:21:47,929 - INFO - Test complete for valuation: Success=False, Time=0.01s
2025-06-09 10:21:47,930 - INFO - Testing micro agent: profitability
2025-06-09 10:21:47,931 - ERROR - Agent Error: '<' not supported between instances of 'int' and 'str', Context: {"ticker": "TATAMOTORS.NS", "company_name": "Tata Motors"}
2025-06-09 10:21:47,932 - ERROR - Traceback (most recent call last):
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\microagent.py", line 404, in calculate_profitability_ratios
    roe_data = await self.retry_tool_call(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\microagent.py", line 265, in retry_tool_call
    while attempt < max_attempts:
          ^^^^^^^^^^^^^^^^^^^^^^
TypeError: '<' not supported between instances of 'int' and 'str'

2025-06-09 10:21:47,932 - INFO - Test complete for profitability: Success=False, Time=0.00s
2025-06-09 10:21:47,932 - INFO - Testing micro agent: news
2025-06-09 10:21:47,933 - ERROR - Agent Error: '<' not supported between instances of 'int' and 'str', Context: {"ticker": "TATAMOTORS.NS", "date_range": null}
2025-06-09 10:21:47,934 - ERROR - Traceback (most recent call last):
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\microagent.py", line 751, in analyze_news
    news_articles = await self.retry_tool_call(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\microagent.py", line 265, in retry_tool_call
    while attempt < max_attempts:
          ^^^^^^^^^^^^^^^^^^^^^^
TypeError: '<' not supported between instances of 'int' and 'str'

2025-06-09 10:21:47,934 - INFO - Test complete for news: Success=False, Time=0.00s
2025-06-09 10:21:47,934 - INFO - Testing micro agent: historical
2025-06-09 10:21:47,935 - ERROR - Agent Error: '<' not supported between instances of 'int' and 'str', Context: {"ticker": "TATAMOTORS.NS", "company_name": "Tata Motors", "years": 3}
2025-06-09 10:21:47,936 - ERROR - Traceback (most recent call last):
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\microagent.py", line 827, in fetch_historical_data
    price_data = await self.retry_tool_call(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\microagent.py", line 265, in retry_tool_call
    while attempt < max_attempts:
          ^^^^^^^^^^^^^^^^^^^^^^
TypeError: '<' not supported between instances of 'int' and 'str'

2025-06-09 10:21:47,936 - INFO - Test complete for historical: Success=False, Time=0.00s
2025-06-09 10:21:47,936 - INFO - Testing micro agent: guidance
2025-06-09 10:21:47,949 - INFO - MongoDB indexes created successfully
2025-06-09 10:21:47,960 - INFO - Loaded existing ChromaDB collection: alphasage_chunks
2025-06-09 10:21:47,960 - INFO - AlphaSageVectorDB initialized with ChromaDB at ./chromadb_data
2025-06-09 10:21:48,433 - ERROR - Error in retrieve_chunks: Expected where to have exactly one operator, got {'company_name': {'$eq': 'Tata Motors'}, 'category': {'$eq': 'Future Insights'}} in query.
2025-06-09 10:21:48,436 - ERROR - Traceback (most recent call last):
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\vector.py", line 374, in retrieve_chunks
    results = self.chroma_collection.query(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\chromadb\api\models\Collection.py", line 209, in query
    query_request = self._validate_and_prepare_query_request(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\chromadb\api\models\CollectionCommon.py", line 95, in wrapper
    return func(self, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\chromadb\api\models\CollectionCommon.py", line 309, in _validate_and_prepare_query_request
    validate_filter_set(filter_set=filters)
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\chromadb\api\types.py", line 354, in validate_filter_set
    validate_where(filter_set["where"])
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\chromadb\api\types.py", line 739, in validate_where
    raise ValueError(f"Expected where to have exactly one operator, got {where}")
ValueError: Expected where to have exactly one operator, got {'company_name': {'$eq': 'Tata Motors'}, 'category': {'$eq': 'Future Insights'}} in query.

2025-06-09 10:21:48,438 - INFO - Database connections closed
2025-06-09 10:21:48,440 - INFO - Test complete for guidance: Success=True, Time=0.50s
2025-06-09 10:21:48,440 - INFO - Testing micro agent: scenario
2025-06-09 10:21:48,441 - ERROR - Agent Error: '<' not supported between instances of 'int' and 'str', Context: {"company_name": "Tata Motors", "metrics": {"P/E": 15.5, "ROE": 0.12, "Debt_Equity": 0.8}}
2025-06-09 10:21:48,442 - ERROR - Traceback (most recent call last):
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\microagent.py", line 1101, in generate_scenarios
    scenario_reasoning = await self.retry_tool_call(
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\microagent.py", line 265, in retry_tool_call
    while attempt < max_attempts:
          ^^^^^^^^^^^^^^^^^^^^^^
TypeError: '<' not supported between instances of 'int' and 'str'

2025-06-09 10:21:48,442 - INFO - Test complete for scenario: Success=False, Time=0.00s
2025-06-09 10:34:28,612 - INFO - MongoDB connection established
2025-06-09 10:34:28,618 - INFO - Redis connection established
2025-06-09 10:34:28,975 - INFO - ChromaDB connection established
2025-06-09 10:34:29,171 - INFO - Testing tool: financial_data_basic_pe_ratio
2025-06-09 10:34:29,174 - INFO - Using cached financial data for TATAMOTORS.NS, metric: P/E
2025-06-09 10:34:29,174 - INFO - Test complete: financial_data_basic_pe_ratio, Success: True, Time: 0.002s
2025-06-09 10:34:29,175 - INFO - Testing tool: financial_data_historical_price
2025-06-09 10:34:31,572 - INFO - Test complete: financial_data_historical_price, Success: True, Time: 2.397s
2025-06-09 10:34:31,573 - INFO - Testing tool: financial_data_invalid_ticker
2025-06-09 10:34:31,919 - ERROR - Error: HTTP Error 404: , Context: {"action": "fetch_financial_data", "ticker": "INVALIDTICKER.NS", "metric": "P/E"}
2025-06-09 10:34:32,013 - ERROR - Traceback (most recent call last):
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\tools.py", line 864, in fetch_financial_data
    info = ticker_obj.info
           ^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\yfinance\ticker.py", line 159, in info
    return self.get_info()
           ^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\yfinance\base.py", line 293, in get_info
    data = self._quote.info
           ^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\yfinance\scrapers\quote.py", line 511, in info
    self._fetch_info()
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\yfinance\scrapers\quote.py", line 610, in _fetch_info
    result = self._fetch(modules=modules)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\yfinance\scrapers\quote.py", line 590, in _fetch
    result = self._data.get_raw_json(_QUOTE_SUMMARY_URL_ + f"/{self._symbol}", params=params_dict)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\yfinance\data.py", line 425, in get_raw_json
    response.raise_for_status()
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\curl_cffi\requests\models.py", line 167, in raise_for_status
    raise HTTPError(f"HTTP Error {self.status_code}: {self.reason}", 0, self)
curl_cffi.requests.exceptions.HTTPError: HTTP Error 404: 

2025-06-09 10:34:32,014 - INFO - Test complete: financial_data_invalid_ticker, Success: True, Time: 0.440s
2025-06-09 10:34:32,015 - INFO - Testing tool: financial_data_ratio_by_date
2025-06-09 10:34:33,447 - INFO - Test complete: financial_data_ratio_by_date, Success: True, Time: 1.432s
2025-06-09 10:34:33,448 - INFO - Testing tool: financial_data_future_date_error
2025-06-09 10:34:33,449 - INFO - Test complete: financial_data_future_date_error, Success: True, Time: 0.001s
2025-06-09 10:34:33,449 - INFO - Testing tool: financial_ratio_by_date_pe_ratio_past_date
2025-06-09 10:34:34,638 - INFO - Test complete: financial_ratio_by_date_pe_ratio_past_date, Success: True, Time: 1.189s
2025-06-09 10:34:34,639 - INFO - Testing tool: financial_ratio_by_date_stock_price_weekend
2025-06-09 10:34:35,829 - INFO - Test complete: financial_ratio_by_date_stock_price_weekend, Success: True, Time: 1.190s
2025-06-09 10:34:35,830 - INFO - Testing tool: financial_ratio_by_date_invalid_ratio_name
2025-06-09 10:34:35,831 - INFO - Test complete: financial_ratio_by_date_invalid_ratio_name, Success: True, Time: 0.001s
2025-06-09 10:34:35,831 - INFO - Testing tool: financial_ratio_by_date_missing_ticker
2025-06-09 10:34:35,832 - INFO - Test complete: financial_ratio_by_date_missing_ticker, Success: True, Time: 0.001s
2025-06-09 10:34:35,832 - INFO - Testing tool: company_news_basic_news_fetch
2025-06-09 10:34:35,868 - INFO - Using cached news for TATAMOTORS.NS
2025-06-09 10:34:35,868 - INFO - Test complete: company_news_basic_news_fetch, Success: True, Time: 0.037s
2025-06-09 10:34:35,869 - INFO - Testing tool: company_news_large_news_fetch
2025-06-09 10:34:36,273 - INFO - Test complete: company_news_large_news_fetch, Success: True, Time: 0.403s
2025-06-09 10:34:36,274 - INFO - Testing tool: company_news_invalid_ticker_news
2025-06-09 10:34:36,427 - INFO - Test complete: company_news_invalid_ticker_news, Success: True, Time: 0.153s
2025-06-09 10:34:36,428 - INFO - Testing tool: company_news_zero_results
2025-06-09 10:34:36,616 - INFO - Test complete: company_news_zero_results, Success: True, Time: 0.188s
2025-06-09 10:34:36,616 - INFO - Testing tool: calculate_metrics_simple_roe_calculation
2025-06-09 10:34:36,617 - INFO - Test complete: calculate_metrics_simple_roe_calculation, Success: True, Time: 0.000s
2025-06-09 10:34:36,618 - INFO - Testing tool: calculate_metrics_complex_calculation
2025-06-09 10:34:36,618 - INFO - Test complete: calculate_metrics_complex_calculation, Success: True, Time: 0.000s
2025-06-09 10:34:36,618 - INFO - Testing tool: calculate_metrics_time_series_calculation
2025-06-09 10:34:36,619 - INFO - Test complete: calculate_metrics_time_series_calculation, Success: True, Time: 0.001s
2025-06-09 10:34:36,619 - INFO - Testing tool: calculate_metrics_invalid_formula
2025-06-09 10:34:36,620 - INFO - Test complete: calculate_metrics_invalid_formula, Success: True, Time: 0.001s
2025-06-09 10:34:36,620 - INFO - Testing tool: calculate_metrics_missing_variables
2025-06-09 10:34:36,620 - INFO - Test complete: calculate_metrics_missing_variables, Success: True, Time: 0.000s
2025-06-09 10:34:36,621 - INFO - Testing tool: calculate_metrics_division_by_zero
2025-06-09 10:34:36,621 - ERROR - Error: division by zero, Context: {"action": "calculate_metrics", "formula": "Result = A / B"}
2025-06-09 10:34:36,622 - ERROR - Traceback (most recent call last):
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\tools.py", line 1173, in calculate_metrics
    result = eval(formula_to_eval, {"__builtins__": {}}, eval_env)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<string>", line 1, in <module>
ZeroDivisionError: division by zero

2025-06-09 10:34:36,622 - INFO - Test complete: calculate_metrics_division_by_zero, Success: True, Time: 0.001s
2025-06-09 10:34:37,631 - INFO - Testing tool: reasoning_financial_analysis
2025-06-09 10:34:39,584 - WARNING - Gemini API rate limit exceeded: 429 Quota exceeded for quota metric 'Generate Content API requests per minute' and limit 'GenerateCo...
2025-06-09 10:34:39,584 - INFO - Test complete: reasoning_financial_analysis, Success: True, Time: 1.953s
2025-06-09 10:34:40,594 - INFO - Testing tool: reasoning_investment_recommendation
2025-06-09 10:34:40,882 - WARNING - Gemini API rate limit exceeded: 429 Quota exceeded for quota metric 'Generate Content API requests per minute' and limit 'GenerateCo...
2025-06-09 10:34:40,882 - INFO - Test complete: reasoning_investment_recommendation, Success: True, Time: 0.289s
2025-06-09 10:34:41,886 - INFO - Testing tool: reasoning_large_data_input
2025-06-09 10:34:42,174 - WARNING - Gemini API rate limit exceeded: 429 Quota exceeded for quota metric 'Generate Content API requests per minute' and limit 'GenerateCo...
2025-06-09 10:34:42,174 - INFO - Test complete: reasoning_large_data_input, Success: True, Time: 0.287s
2025-06-09 10:34:43,188 - INFO - Testing tool: reasoning_empty_data
2025-06-09 10:34:43,475 - WARNING - Gemini API rate limit exceeded: 429 Quota exceeded for quota metric 'Generate Content API requests per minute' and limit 'GenerateCo...
2025-06-09 10:34:43,475 - INFO - Test complete: reasoning_empty_data, Success: True, Time: 0.287s
2025-06-09 10:34:43,476 - INFO - Testing tool: search_knowledge_base_basic_search
2025-06-09 10:34:45,191 - INFO - HTTP Request: GET https://chroma-onnx-models.s3.amazonaws.com/all-MiniLM-L6-v2/onnx.tar.gz "HTTP/1.1 200 OK"
2025-06-09 10:36:14,082 - ERROR - ChromaDB direct query failed: Collection expecting embedding with dimension of 768, got 384
2025-06-09 10:36:14,148 - INFO - MongoDB indexes created successfully
2025-06-09 10:36:14,157 - INFO - Loaded existing ChromaDB collection: alphasage_chunks
2025-06-09 10:36:14,158 - INFO - AlphaSageVectorDB initialized with ChromaDB at ./chromadb_data
2025-06-09 10:36:14,608 - ERROR - Error in retrieve_chunks: Expected where to have exactly one operator, got {} in query.
2025-06-09 10:36:14,686 - ERROR - Traceback (most recent call last):
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\tools.py", line 1258, in search_knowledge_base
    chroma_results = chroma_collection.query(**query_params)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\chromadb\api\models\Collection.py", line 221, in query
    query_results = self._client._query(
                    ^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\chromadb\api\rust.py", line 505, in _query
    rust_response = self.bindings.query(
                    ^^^^^^^^^^^^^^^^^^^^
chromadb.errors.InvalidArgumentError: Collection expecting embedding with dimension of 768, got 384

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\vector.py", line 374, in retrieve_chunks
    results = self.chroma_collection.query(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\chromadb\api\models\Collection.py", line 209, in query
    query_request = self._validate_and_prepare_query_request(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\chromadb\api\models\CollectionCommon.py", line 95, in wrapper
    return func(self, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\chromadb\api\models\CollectionCommon.py", line 309, in _validate_and_prepare_query_request
    validate_filter_set(filter_set=filters)
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\chromadb\api\types.py", line 354, in validate_filter_set
    validate_where(filter_set["where"])
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\chromadb\api\types.py", line 739, in validate_where
    raise ValueError(f"Expected where to have exactly one operator, got {where}")
ValueError: Expected where to have exactly one operator, got {} in query.

2025-06-09 10:36:14,688 - INFO - Database connections closed
2025-06-09 10:36:14,688 - INFO - Test complete: search_knowledge_base_basic_search, Success: True, Time: 91.212s
2025-06-09 10:36:14,689 - INFO - Testing tool: search_knowledge_base_company_filtered_search
2025-06-09 10:36:14,844 - ERROR - ChromaDB direct query failed: Collection expecting embedding with dimension of 768, got 384
2025-06-09 10:36:14,851 - INFO - MongoDB indexes created successfully
2025-06-09 10:36:14,863 - INFO - Loaded existing ChromaDB collection: alphasage_chunks
2025-06-09 10:36:14,863 - INFO - AlphaSageVectorDB initialized with ChromaDB at ./chromadb_data
2025-06-09 10:36:16,564 - ERROR - Error in retrieve_chunks: Expected where to have exactly one operator, got {} in query.
2025-06-09 10:36:16,565 - ERROR - Traceback (most recent call last):
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\tools.py", line 1258, in search_knowledge_base
    chroma_results = chroma_collection.query(**query_params)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\chromadb\api\models\Collection.py", line 221, in query
    query_results = self._client._query(
                    ^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\chromadb\api\rust.py", line 505, in _query
    rust_response = self.bindings.query(
                    ^^^^^^^^^^^^^^^^^^^^
chromadb.errors.InvalidArgumentError: Collection expecting embedding with dimension of 768, got 384

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\vector.py", line 374, in retrieve_chunks
    results = self.chroma_collection.query(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\chromadb\api\models\Collection.py", line 209, in query
    query_request = self._validate_and_prepare_query_request(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\chromadb\api\models\CollectionCommon.py", line 95, in wrapper
    return func(self, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\chromadb\api\models\CollectionCommon.py", line 309, in _validate_and_prepare_query_request
    validate_filter_set(filter_set=filters)
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\chromadb\api\types.py", line 354, in validate_filter_set
    validate_where(filter_set["where"])
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\chromadb\api\types.py", line 739, in validate_where
    raise ValueError(f"Expected where to have exactly one operator, got {where}")
ValueError: Expected where to have exactly one operator, got {} in query.

2025-06-09 10:36:16,568 - INFO - Database connections closed
2025-06-09 10:36:16,568 - INFO - Test complete: search_knowledge_base_company_filtered_search, Success: True, Time: 1.878s
2025-06-09 10:36:16,569 - INFO - Testing tool: search_knowledge_base_category_filtered_search
2025-06-09 10:36:16,737 - ERROR - ChromaDB direct query failed: Collection expecting embedding with dimension of 768, got 384
2025-06-09 10:36:16,744 - INFO - MongoDB indexes created successfully
2025-06-09 10:36:16,755 - INFO - Loaded existing ChromaDB collection: alphasage_chunks
2025-06-09 10:36:16,755 - INFO - AlphaSageVectorDB initialized with ChromaDB at ./chromadb_data
2025-06-09 10:36:17,177 - ERROR - Error in retrieve_chunks: Expected where to have exactly one operator, got {} in query.
2025-06-09 10:36:17,177 - ERROR - Traceback (most recent call last):
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\tools.py", line 1258, in search_knowledge_base
    chroma_results = chroma_collection.query(**query_params)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\chromadb\api\models\Collection.py", line 221, in query
    query_results = self._client._query(
                    ^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\chromadb\api\rust.py", line 505, in _query
    rust_response = self.bindings.query(
                    ^^^^^^^^^^^^^^^^^^^^
chromadb.errors.InvalidArgumentError: Collection expecting embedding with dimension of 768, got 384

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\vector.py", line 374, in retrieve_chunks
    results = self.chroma_collection.query(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\chromadb\api\models\Collection.py", line 209, in query
    query_request = self._validate_and_prepare_query_request(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\chromadb\api\models\CollectionCommon.py", line 95, in wrapper
    return func(self, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\chromadb\api\models\CollectionCommon.py", line 309, in _validate_and_prepare_query_request
    validate_filter_set(filter_set=filters)
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\chromadb\api\types.py", line 354, in validate_filter_set
    validate_where(filter_set["where"])
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\chromadb\api\types.py", line 739, in validate_where
    raise ValueError(f"Expected where to have exactly one operator, got {where}")
ValueError: Expected where to have exactly one operator, got {} in query.

2025-06-09 10:36:17,180 - INFO - Database connections closed
2025-06-09 10:36:17,180 - INFO - Test complete: search_knowledge_base_category_filtered_search, Success: True, Time: 0.611s
2025-06-09 10:36:17,180 - INFO - Testing tool: search_knowledge_base_empty_query
2025-06-09 10:36:17,361 - ERROR - ChromaDB direct query failed: Collection expecting embedding with dimension of 768, got 384
2025-06-09 10:36:17,380 - INFO - MongoDB indexes created successfully
2025-06-09 10:36:17,389 - INFO - Loaded existing ChromaDB collection: alphasage_chunks
2025-06-09 10:36:17,389 - INFO - AlphaSageVectorDB initialized with ChromaDB at ./chromadb_data
2025-06-09 10:36:17,390 - ERROR - Error in retrieve_chunks: Expected where to have exactly one operator, got {} in get.
2025-06-09 10:36:17,390 - ERROR - Traceback (most recent call last):
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\tools.py", line 1258, in search_knowledge_base
    chroma_results = chroma_collection.query(**query_params)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\chromadb\api\models\Collection.py", line 221, in query
    query_results = self._client._query(
                    ^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\chromadb\api\rust.py", line 505, in _query
    rust_response = self.bindings.query(
                    ^^^^^^^^^^^^^^^^^^^^
chromadb.errors.InvalidArgumentError: Collection expecting embedding with dimension of 768, got 384

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\vector.py", line 381, in retrieve_chunks
    results = self.chroma_collection.get(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\chromadb\api\models\Collection.py", line 124, in get
    get_request = self._validate_and_prepare_get_request(
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\chromadb\api\models\CollectionCommon.py", line 95, in wrapper
    return func(self, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\chromadb\api\models\CollectionCommon.py", line 253, in _validate_and_prepare_get_request
    validate_filter_set(filter_set=filters)
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\chromadb\api\types.py", line 354, in validate_filter_set
    validate_where(filter_set["where"])
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\chromadb\api\types.py", line 739, in validate_where
    raise ValueError(f"Expected where to have exactly one operator, got {where}")
ValueError: Expected where to have exactly one operator, got {} in get.

2025-06-09 10:36:17,391 - INFO - Database connections closed
2025-06-09 10:36:17,392 - INFO - Test complete: search_knowledge_base_empty_query, Success: True, Time: 0.212s
2025-06-09 10:36:17,392 - INFO - Testing tool: search_knowledge_base_no_results_query
2025-06-09 10:36:17,557 - ERROR - ChromaDB direct query failed: Collection expecting embedding with dimension of 768, got 384
2025-06-09 10:36:17,582 - INFO - MongoDB indexes created successfully
2025-06-09 10:36:17,592 - INFO - Loaded existing ChromaDB collection: alphasage_chunks
2025-06-09 10:36:17,592 - INFO - AlphaSageVectorDB initialized with ChromaDB at ./chromadb_data
2025-06-09 10:36:18,034 - ERROR - Error in retrieve_chunks: Expected where to have exactly one operator, got {} in query.
2025-06-09 10:36:18,035 - ERROR - Traceback (most recent call last):
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\tools.py", line 1258, in search_knowledge_base
    chroma_results = chroma_collection.query(**query_params)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\chromadb\api\models\Collection.py", line 221, in query
    query_results = self._client._query(
                    ^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\chromadb\api\rust.py", line 505, in _query
    rust_response = self.bindings.query(
                    ^^^^^^^^^^^^^^^^^^^^
chromadb.errors.InvalidArgumentError: Collection expecting embedding with dimension of 768, got 384

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\vector.py", line 374, in retrieve_chunks
    results = self.chroma_collection.query(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\chromadb\api\models\Collection.py", line 209, in query
    query_request = self._validate_and_prepare_query_request(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\chromadb\api\models\CollectionCommon.py", line 95, in wrapper
    return func(self, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\chromadb\api\models\CollectionCommon.py", line 309, in _validate_and_prepare_query_request
    validate_filter_set(filter_set=filters)
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\chromadb\api\types.py", line 354, in validate_filter_set
    validate_where(filter_set["where"])
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\chromadb\api\types.py", line 739, in validate_where
    raise ValueError(f"Expected where to have exactly one operator, got {where}")
ValueError: Expected where to have exactly one operator, got {} in query.

2025-06-09 10:36:18,037 - INFO - Database connections closed
2025-06-09 10:36:18,037 - INFO - Test complete: search_knowledge_base_no_results_query, Success: True, Time: 0.645s
2025-06-09 10:41:37,706 - INFO - MongoDB connection established
2025-06-09 10:41:37,713 - INFO - Redis connection established
2025-06-09 10:41:37,877 - INFO - ChromaDB connection established
2025-06-09 10:41:38,041 - INFO - Testing tool: financial_data_basic_pe_ratio
2025-06-09 10:41:38,044 - INFO - Using cached financial data for TATAMOTORS.NS, metric: P/E
2025-06-09 10:41:38,044 - INFO - Test complete: financial_data_basic_pe_ratio, Success: True, Time: 0.003s
2025-06-09 10:41:38,044 - INFO - Testing tool: financial_data_historical_price
2025-06-09 10:41:38,047 - INFO - Using cached financial data for RELIANCE.NS, metric: price
2025-06-09 10:41:38,047 - INFO - Test complete: financial_data_historical_price, Success: True, Time: 0.003s
2025-06-09 10:41:38,047 - INFO - Testing tool: financial_data_invalid_ticker
2025-06-09 10:41:41,164 - WARNING - yfinance .info failed for INVALIDTICKER.NS: HTTP Error 404: 
2025-06-09 10:41:41,164 - ERROR - Error: Collection objects do not implement truth value testing or bool(). Please compare with None instead: collection is not None, Context: {"action": "fetch_financial_data", "ticker": "INVALIDTICKER.NS", "metric": "P/E"}
2025-06-09 10:41:41,226 - ERROR - Traceback (most recent call last):
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\tools.py", line 887, in fetch_financial_data
    company_name = get_company_name_from_ticker(ticker)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\tools.py", line 362, in get_company_name_from_ticker
    if collection:
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\pymongo\synchronous\collection.py", line 311, in __bool__
    raise NotImplementedError(
NotImplementedError: Collection objects do not implement truth value testing or bool(). Please compare with None instead: collection is not None

2025-06-09 10:41:41,226 - INFO - Test complete: financial_data_invalid_ticker, Success: True, Time: 3.179s
2025-06-09 10:41:41,226 - INFO - Testing tool: financial_data_ratio_by_date
2025-06-09 10:41:42,627 - INFO - Test complete: financial_data_ratio_by_date, Success: True, Time: 1.399s
2025-06-09 10:41:42,627 - INFO - Testing tool: financial_data_future_date_error
2025-06-09 10:41:42,629 - INFO - Test complete: financial_data_future_date_error, Success: True, Time: 0.001s
2025-06-09 10:41:42,629 - INFO - Testing tool: financial_ratio_by_date_pe_ratio_past_date
2025-06-09 10:41:42,878 - INFO - Test complete: financial_ratio_by_date_pe_ratio_past_date, Success: True, Time: 0.249s
2025-06-09 10:41:42,879 - INFO - Testing tool: financial_ratio_by_date_stock_price_weekend
2025-06-09 10:41:44,001 - INFO - Test complete: financial_ratio_by_date_stock_price_weekend, Success: True, Time: 1.122s
2025-06-09 10:41:44,002 - INFO - Testing tool: financial_ratio_by_date_invalid_ratio_name
2025-06-09 10:41:44,003 - INFO - Test complete: financial_ratio_by_date_invalid_ratio_name, Success: True, Time: 0.001s
2025-06-09 10:41:44,003 - INFO - Testing tool: financial_ratio_by_date_missing_ticker
2025-06-09 10:41:44,004 - INFO - Test complete: financial_ratio_by_date_missing_ticker, Success: True, Time: 0.001s
2025-06-09 10:41:44,004 - INFO - Testing tool: company_news_basic_news_fetch
2025-06-09 10:41:44,006 - INFO - Using cached news for TATAMOTORS.NS
2025-06-09 10:41:44,006 - INFO - Test complete: company_news_basic_news_fetch, Success: True, Time: 0.002s
2025-06-09 10:41:44,006 - INFO - Testing tool: company_news_large_news_fetch
2025-06-09 10:41:44,046 - INFO - Using cached news for RELIANCE.NS
2025-06-09 10:41:44,046 - INFO - Test complete: company_news_large_news_fetch, Success: True, Time: 0.040s
2025-06-09 10:41:44,046 - INFO - Testing tool: company_news_invalid_ticker_news
2025-06-09 10:41:44,429 - INFO - Test complete: company_news_invalid_ticker_news, Success: True, Time: 0.381s
2025-06-09 10:41:44,430 - INFO - Testing tool: company_news_zero_results
2025-06-09 10:41:44,690 - INFO - Test complete: company_news_zero_results, Success: True, Time: 0.260s
2025-06-09 10:41:44,691 - INFO - Testing tool: calculate_metrics_simple_roe_calculation
2025-06-09 10:41:44,692 - INFO - Test complete: calculate_metrics_simple_roe_calculation, Success: True, Time: 0.001s
2025-06-09 10:41:44,692 - INFO - Testing tool: calculate_metrics_complex_calculation
2025-06-09 10:41:44,693 - INFO - Test complete: calculate_metrics_complex_calculation, Success: True, Time: 0.000s
2025-06-09 10:41:44,694 - INFO - Testing tool: calculate_metrics_time_series_calculation
2025-06-09 10:41:44,694 - INFO - Test complete: calculate_metrics_time_series_calculation, Success: True, Time: 0.000s
2025-06-09 10:41:44,695 - INFO - Testing tool: calculate_metrics_invalid_formula
2025-06-09 10:41:44,695 - INFO - Test complete: calculate_metrics_invalid_formula, Success: True, Time: 0.000s
2025-06-09 10:41:44,696 - INFO - Testing tool: calculate_metrics_missing_variables
2025-06-09 10:41:44,697 - INFO - Test complete: calculate_metrics_missing_variables, Success: True, Time: 0.001s
2025-06-09 10:41:44,697 - INFO - Testing tool: calculate_metrics_division_by_zero
2025-06-09 10:41:44,698 - ERROR - Error: division by zero, Context: {"action": "calculate_metrics", "formula": "Result = A / B"}
2025-06-09 10:41:44,699 - ERROR - Traceback (most recent call last):
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\tools.py", line 1182, in calculate_metrics
    result = eval(formula_to_eval, {"__builtins__": {}}, eval_env)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<string>", line 1, in <module>
ZeroDivisionError: division by zero

2025-06-09 10:41:44,699 - INFO - Test complete: calculate_metrics_division_by_zero, Success: True, Time: 0.001s
2025-06-09 10:41:45,712 - INFO - Testing tool: reasoning_financial_analysis
2025-06-09 10:41:47,395 - WARNING - Gemini API rate limit exceeded: 429 Quota exceeded for quota metric 'Generate Content API requests per minute' and limit 'GenerateCo...
2025-06-09 10:41:47,396 - INFO - Test complete: reasoning_financial_analysis, Success: True, Time: 1.684s
2025-06-09 10:41:48,407 - INFO - Testing tool: reasoning_investment_recommendation
2025-06-09 10:41:48,689 - WARNING - Gemini API rate limit exceeded: 429 Quota exceeded for quota metric 'Generate Content API requests per minute' and limit 'GenerateCo...
2025-06-09 10:41:48,689 - INFO - Test complete: reasoning_investment_recommendation, Success: True, Time: 0.281s
2025-06-09 10:41:49,700 - INFO - Testing tool: reasoning_large_data_input
2025-06-09 10:41:49,983 - WARNING - Gemini API rate limit exceeded: 429 Quota exceeded for quota metric 'Generate Content API requests per minute' and limit 'GenerateCo...
2025-06-09 10:41:49,984 - INFO - Test complete: reasoning_large_data_input, Success: True, Time: 0.284s
2025-06-09 10:41:50,985 - INFO - Testing tool: reasoning_empty_data
2025-06-09 10:41:51,276 - WARNING - Gemini API rate limit exceeded: 429 Quota exceeded for quota metric 'Generate Content API requests per minute' and limit 'GenerateCo...
2025-06-09 10:41:51,276 - INFO - Test complete: reasoning_empty_data, Success: True, Time: 0.290s
2025-06-09 10:41:51,277 - INFO - Testing tool: search_knowledge_base_basic_search
2025-06-09 10:41:51,741 - ERROR - ChromaDB query error: Collection expecting embedding with dimension of 768, got 384
2025-06-09 10:41:51,741 - INFO - Test complete: search_knowledge_base_basic_search, Success: True, Time: 0.465s
2025-06-09 10:41:51,741 - INFO - Testing tool: search_knowledge_base_company_filtered_search
2025-06-09 10:41:51,912 - ERROR - ChromaDB query error: Collection expecting embedding with dimension of 768, got 384
2025-06-09 10:41:51,912 - INFO - Test complete: search_knowledge_base_company_filtered_search, Success: True, Time: 0.171s
2025-06-09 10:41:51,913 - INFO - Testing tool: search_knowledge_base_category_filtered_search
2025-06-09 10:41:52,067 - ERROR - ChromaDB query error: Collection expecting embedding with dimension of 768, got 384
2025-06-09 10:41:52,068 - INFO - Test complete: search_knowledge_base_category_filtered_search, Success: True, Time: 0.156s
2025-06-09 10:41:52,068 - INFO - Testing tool: search_knowledge_base_empty_query
2025-06-09 10:41:52,232 - ERROR - ChromaDB query error: Collection expecting embedding with dimension of 768, got 384
2025-06-09 10:41:52,233 - INFO - Test complete: search_knowledge_base_empty_query, Success: True, Time: 0.164s
2025-06-09 10:41:52,233 - INFO - Testing tool: search_knowledge_base_no_results_query
2025-06-09 10:41:52,389 - ERROR - ChromaDB query error: Collection expecting embedding with dimension of 768, got 384
2025-06-09 10:41:52,389 - INFO - Test complete: search_knowledge_base_no_results_query, Success: True, Time: 0.156s
2025-06-09 10:42:32,014 - INFO - MongoDB connection established
2025-06-09 10:42:32,022 - INFO - Redis connection established
2025-06-09 10:42:32,098 - INFO - ChromaDB connection established
2025-06-09 10:42:32,106 - INFO - Redis connection established for micro agents
2025-06-09 10:42:32,115 - INFO - MongoDB connection established for micro agents
2025-06-09 10:42:32,222 - INFO - Configured 10 micro agents
2025-06-09 10:42:32,268 - INFO - AlphaSage Micro Agents initialized. System health: {'mongodb': True, 'redis': True, 'chromadb': True, 'gemini_api': True}
2025-06-09 10:42:32,268 - INFO - Testing micro agent: valuation
2025-06-09 10:42:32,269 - ERROR - Agent Error: '<' not supported between instances of 'int' and 'str', Context: {"ticker": "TATAMOTORS.NS", "company_name": "Tata Motors"}
2025-06-09 10:42:32,270 - ERROR - Traceback (most recent call last):
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\microagent.py", line 315, in calculate_valuation_ratios
    pe_data = await self.retry_tool_call(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\microagent.py", line 265, in retry_tool_call
    while attempt < max_attempts:
          ^^^^^^^^^^^^^^^^^^^^^^
TypeError: '<' not supported between instances of 'int' and 'str'

2025-06-09 10:42:32,270 - INFO - Test complete for valuation: Success=False, Time=0.00s
2025-06-09 10:42:32,270 - INFO - Testing micro agent: profitability
2025-06-09 10:42:32,272 - ERROR - Agent Error: '<' not supported between instances of 'int' and 'str', Context: {"ticker": "TATAMOTORS.NS", "company_name": "Tata Motors"}
2025-06-09 10:42:32,272 - ERROR - Traceback (most recent call last):
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\microagent.py", line 404, in calculate_profitability_ratios
    roe_data = await self.retry_tool_call(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\microagent.py", line 265, in retry_tool_call
    while attempt < max_attempts:
          ^^^^^^^^^^^^^^^^^^^^^^
TypeError: '<' not supported between instances of 'int' and 'str'

2025-06-09 10:42:32,272 - INFO - Test complete for profitability: Success=False, Time=0.00s
2025-06-09 10:42:32,272 - INFO - Testing micro agent: news
2025-06-09 10:42:32,273 - ERROR - Agent Error: '<' not supported between instances of 'int' and 'str', Context: {"ticker": "TATAMOTORS.NS", "date_range": null}
2025-06-09 10:42:32,273 - ERROR - Traceback (most recent call last):
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\microagent.py", line 751, in analyze_news
    news_articles = await self.retry_tool_call(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\microagent.py", line 265, in retry_tool_call
    while attempt < max_attempts:
          ^^^^^^^^^^^^^^^^^^^^^^
TypeError: '<' not supported between instances of 'int' and 'str'

2025-06-09 10:42:32,273 - INFO - Test complete for news: Success=False, Time=0.00s
2025-06-09 10:42:32,273 - INFO - Testing micro agent: historical
2025-06-09 10:42:32,274 - ERROR - Agent Error: '<' not supported between instances of 'int' and 'str', Context: {"ticker": "TATAMOTORS.NS", "company_name": "Tata Motors", "years": 3}
2025-06-09 10:42:32,274 - ERROR - Traceback (most recent call last):
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\microagent.py", line 827, in fetch_historical_data
    price_data = await self.retry_tool_call(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\microagent.py", line 265, in retry_tool_call
    while attempt < max_attempts:
          ^^^^^^^^^^^^^^^^^^^^^^
TypeError: '<' not supported between instances of 'int' and 'str'

2025-06-09 10:42:32,274 - INFO - Test complete for historical: Success=False, Time=0.00s
2025-06-09 10:42:32,275 - INFO - Testing micro agent: guidance
2025-06-09 10:42:32,275 - INFO - Test complete for guidance: Success=True, Time=0.00s
2025-06-09 10:42:32,276 - INFO - Testing micro agent: scenario
2025-06-09 10:42:32,276 - ERROR - Agent Error: '<' not supported between instances of 'int' and 'str', Context: {"company_name": "Tata Motors", "metrics": {"P/E": 15.5, "ROE": 0.12, "Debt_Equity": 0.8}}
2025-06-09 10:42:32,277 - ERROR - Traceback (most recent call last):
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\microagent.py", line 1101, in generate_scenarios
    scenario_reasoning = await self.retry_tool_call(
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\microagent.py", line 265, in retry_tool_call
    while attempt < max_attempts:
          ^^^^^^^^^^^^^^^^^^^^^^
TypeError: '<' not supported between instances of 'int' and 'str'

2025-06-09 10:42:32,277 - INFO - Test complete for scenario: Success=False, Time=0.00s
2025-06-09 10:45:56,389 - INFO - MongoDB connection established
2025-06-09 10:45:56,456 - INFO - Redis connection established
2025-06-09 10:45:56,533 - INFO - ChromaDB connection established
2025-06-09 10:45:56,541 - INFO - Redis connection established for micro agents
2025-06-09 10:45:56,546 - INFO - MongoDB connection established for micro agents
2025-06-09 10:45:56,649 - INFO - Configured 10 micro agents
2025-06-09 10:45:56,695 - INFO - AlphaSage Micro Agents initialized. System health: {'mongodb': True, 'redis': True, 'chromadb': True, 'gemini_api': True}
2025-06-09 10:45:56,696 - INFO - Testing micro agent: valuation
2025-06-09 10:45:56,697 - WARNING - Tool call attempt 1 failed, retrying in 2.1s: YFinanceNumberTool.fetch_financial_data() missing 1 required positional argument: 'metric'
2025-06-09 10:45:58,800 - WARNING - Tool call attempt 2 failed, retrying in 4.1s: YFinanceNumberTool.fetch_financial_data() missing 1 required positional argument: 'metric'
2025-06-09 10:46:02,912 - ERROR - Tool call failed after 3 attempts: YFinanceNumberTool.fetch_financial_data() missing 1 required positional argument: 'metric'
2025-06-09 10:46:02,913 - ERROR - Agent Error: YFinanceNumberTool.fetch_financial_data() missing 1 required positional argument: 'metric', Context: {"ticker": "TATAMOTORS.NS", "company_name": "Tata Motors"}
2025-06-09 10:46:02,913 - ERROR - Traceback (most recent call last):
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\microagent.py", line 317, in calculate_valuation_ratios
    pe_data = await self.retry_tool_call(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\microagent.py", line 285, in retry_tool_call
    raise last_exception
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\microagent.py", line 273, in retry_tool_call
    return await func(*args, **kwargs)
                 ^^^^^^^^^^^^^^^^^^^^^
TypeError: YFinanceNumberTool.fetch_financial_data() missing 1 required positional argument: 'metric'

2025-06-09 10:46:02,914 - INFO - Test complete for valuation: Success=False, Time=6.22s
2025-06-09 10:46:02,914 - INFO - Testing micro agent: profitability
2025-06-09 10:46:02,916 - WARNING - Tool call attempt 1 failed, retrying in 2.1s: YFinanceNumberTool.fetch_financial_data() missing 1 required positional argument: 'metric'
2025-06-09 10:46:05,021 - WARNING - Tool call attempt 2 failed, retrying in 4.1s: YFinanceNumberTool.fetch_financial_data() missing 1 required positional argument: 'metric'
2025-06-09 10:46:09,127 - ERROR - Tool call failed after 3 attempts: YFinanceNumberTool.fetch_financial_data() missing 1 required positional argument: 'metric'
2025-06-09 10:46:09,127 - ERROR - Agent Error: YFinanceNumberTool.fetch_financial_data() missing 1 required positional argument: 'metric', Context: {"ticker": "TATAMOTORS.NS", "company_name": "Tata Motors"}
2025-06-09 10:46:09,128 - ERROR - Traceback (most recent call last):
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\microagent.py", line 406, in calculate_profitability_ratios
    roe_data = await self.retry_tool_call(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\microagent.py", line 285, in retry_tool_call
    raise last_exception
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\microagent.py", line 273, in retry_tool_call
    return await func(*args, **kwargs)
                 ^^^^^^^^^^^^^^^^^^^^^
TypeError: YFinanceNumberTool.fetch_financial_data() missing 1 required positional argument: 'metric'

2025-06-09 10:46:09,128 - INFO - Test complete for profitability: Success=False, Time=6.21s
2025-06-09 10:46:09,129 - INFO - Testing micro agent: liquidity
2025-06-09 10:46:09,412 - ERROR - ChromaDB query error: Collection expecting embedding with dimension of 768, got 384
2025-06-09 10:46:09,453 - INFO - Test complete for liquidity: Success=True, Time=0.32s
2025-06-09 10:46:09,454 - INFO - Testing micro agent: leverage
2025-06-09 10:46:09,454 - WARNING - Tool call attempt 1 failed, retrying in 2.1s: YFinanceNumberTool.fetch_financial_data() missing 1 required positional argument: 'metric'
2025-06-09 10:46:11,562 - WARNING - Tool call attempt 2 failed, retrying in 4.1s: YFinanceNumberTool.fetch_financial_data() missing 1 required positional argument: 'metric'
2025-06-09 10:46:15,676 - ERROR - Tool call failed after 3 attempts: YFinanceNumberTool.fetch_financial_data() missing 1 required positional argument: 'metric'
2025-06-09 10:46:15,676 - ERROR - Agent Error: YFinanceNumberTool.fetch_financial_data() missing 1 required positional argument: 'metric', Context: {"ticker": "TATAMOTORS.NS", "company_name": "Tata Motors"}
2025-06-09 10:46:15,677 - ERROR - Traceback (most recent call last):
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\microagent.py", line 618, in calculate_leverage_ratios
    de_data = await self.retry_tool_call(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\microagent.py", line 285, in retry_tool_call
    raise last_exception
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\microagent.py", line 273, in retry_tool_call
    return await func(*args, **kwargs)
                 ^^^^^^^^^^^^^^^^^^^^^
TypeError: YFinanceNumberTool.fetch_financial_data() missing 1 required positional argument: 'metric'

2025-06-09 10:46:15,677 - INFO - Test complete for leverage: Success=False, Time=6.22s
2025-06-09 10:46:15,677 - INFO - Testing micro agent: efficiency
2025-06-09 10:46:15,877 - ERROR - ChromaDB query error: Collection expecting embedding with dimension of 768, got 384
2025-06-09 10:46:15,878 - INFO - Test complete for efficiency: Success=True, Time=0.20s
2025-06-09 10:46:15,878 - INFO - Testing micro agent: news
2025-06-09 10:46:15,879 - WARNING - Tool call attempt 1 failed, retrying in 2.1s: YFinanceNewsTool.fetch_company_news() missing 1 required positional argument: 'ticker'
2025-06-09 10:46:17,980 - WARNING - Tool call attempt 2 failed, retrying in 4.1s: YFinanceNewsTool.fetch_company_news() missing 1 required positional argument: 'ticker'
2025-06-09 10:46:22,082 - ERROR - Tool call failed after 3 attempts: YFinanceNewsTool.fetch_company_news() missing 1 required positional argument: 'ticker'
2025-06-09 10:46:22,083 - ERROR - Agent Error: YFinanceNewsTool.fetch_company_news() missing 1 required positional argument: 'ticker', Context: {"ticker": "TATAMOTORS.NS", "date_range": null}
2025-06-09 10:46:22,083 - ERROR - Traceback (most recent call last):
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\microagent.py", line 753, in analyze_news
    news_articles = await self.retry_tool_call(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\microagent.py", line 285, in retry_tool_call
    raise last_exception
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\microagent.py", line 273, in retry_tool_call
    return await func(*args, **kwargs)
                 ^^^^^^^^^^^^^^^^^^^^^
TypeError: YFinanceNewsTool.fetch_company_news() missing 1 required positional argument: 'ticker'

2025-06-09 10:46:22,083 - INFO - Test complete for news: Success=False, Time=6.20s
2025-06-09 10:46:22,084 - INFO - Testing micro agent: historical
2025-06-09 10:46:22,085 - WARNING - Tool call attempt 1 failed, retrying in 2.1s: YFinanceNumberTool.fetch_financial_data() missing 1 required positional argument: 'metric'
2025-06-09 10:46:24,198 - WARNING - Tool call attempt 2 failed, retrying in 4.1s: YFinanceNumberTool.fetch_financial_data() missing 1 required positional argument: 'metric'
2025-06-09 10:46:28,306 - ERROR - Tool call failed after 3 attempts: YFinanceNumberTool.fetch_financial_data() missing 1 required positional argument: 'metric'
2025-06-09 10:46:28,306 - ERROR - Agent Error: YFinanceNumberTool.fetch_financial_data() missing 1 required positional argument: 'metric', Context: {"ticker": "TATAMOTORS.NS", "company_name": "Tata Motors", "years": 3}
2025-06-09 10:46:28,306 - ERROR - Traceback (most recent call last):
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\microagent.py", line 829, in fetch_historical_data
    price_data = await self.retry_tool_call(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\microagent.py", line 285, in retry_tool_call
    raise last_exception
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\microagent.py", line 273, in retry_tool_call
    return await func(*args, **kwargs)
                 ^^^^^^^^^^^^^^^^^^^^^
TypeError: YFinanceNumberTool.fetch_financial_data() missing 1 required positional argument: 'metric'

2025-06-09 10:46:28,307 - INFO - Test complete for historical: Success=False, Time=6.22s
2025-06-09 10:46:28,307 - INFO - Testing micro agent: guidance
2025-06-09 10:46:28,310 - INFO - Test complete for guidance: Success=True, Time=0.00s
2025-06-09 10:46:28,310 - INFO - Testing micro agent: sentiment
2025-06-09 10:46:28,484 - ERROR - ChromaDB query error: Collection expecting embedding with dimension of 768, got 384
2025-06-09 10:46:28,485 - WARNING - Tool call attempt 1 failed, retrying in 2.1s: ReasoningTool.reason_on_data() missing 1 required positional argument: 'query'
2025-06-09 10:46:30,592 - WARNING - Tool call attempt 2 failed, retrying in 4.1s: ReasoningTool.reason_on_data() missing 1 required positional argument: 'query'
2025-06-09 10:46:34,703 - ERROR - Tool call failed after 3 attempts: ReasoningTool.reason_on_data() missing 1 required positional argument: 'query'
2025-06-09 10:46:34,703 - ERROR - Agent Error: ReasoningTool.reason_on_data() missing 1 required positional argument: 'query', Context: {"company_name": "Tata Motors"}
2025-06-09 10:46:34,704 - ERROR - Traceback (most recent call last):
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\microagent.py", line 1018, in analyze_sentiment
    sentiment_analysis = await self.retry_tool_call(
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\microagent.py", line 285, in retry_tool_call
    raise last_exception
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\microagent.py", line 273, in retry_tool_call
    return await func(*args, **kwargs)
                 ^^^^^^^^^^^^^^^^^^^^^
TypeError: ReasoningTool.reason_on_data() missing 1 required positional argument: 'query'

2025-06-09 10:46:34,705 - INFO - Test complete for sentiment: Success=False, Time=6.40s
2025-06-09 10:46:34,705 - INFO - Testing micro agent: scenario
2025-06-09 10:46:34,707 - WARNING - Tool call attempt 1 failed, retrying in 2.1s: ReasoningTool.reason_on_data() missing 1 required positional argument: 'query'
2025-06-09 10:46:36,817 - WARNING - Tool call attempt 2 failed, retrying in 4.1s: ReasoningTool.reason_on_data() missing 1 required positional argument: 'query'
2025-06-09 10:46:40,931 - ERROR - Tool call failed after 3 attempts: ReasoningTool.reason_on_data() missing 1 required positional argument: 'query'
2025-06-09 10:46:40,932 - ERROR - Agent Error: ReasoningTool.reason_on_data() missing 1 required positional argument: 'query', Context: {"company_name": "Tata Motors", "metrics": {"P/E": 15.5, "ROE": 0.12, "Debt_Equity": 0.8}}
2025-06-09 10:46:40,932 - ERROR - Traceback (most recent call last):
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\microagent.py", line 1103, in generate_scenarios
    scenario_reasoning = await self.retry_tool_call(
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\microagent.py", line 285, in retry_tool_call
    raise last_exception
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\microagent.py", line 273, in retry_tool_call
    return await func(*args, **kwargs)
                 ^^^^^^^^^^^^^^^^^^^^^
TypeError: ReasoningTool.reason_on_data() missing 1 required positional argument: 'query'

2025-06-09 10:46:40,933 - INFO - Test complete for scenario: Success=False, Time=6.23s
2025-06-09 11:28:00,647 - INFO - MongoDB connection established
2025-06-09 11:28:00,664 - INFO - Redis connection established
2025-06-09 11:28:00,851 - INFO - ChromaDB connection established
2025-06-09 11:28:00,862 - INFO - Redis connection established for micro agents
2025-06-09 11:28:00,929 - INFO - MongoDB connection established for micro agents
2025-06-09 11:28:01,081 - INFO - Configured 10 micro agents
2025-06-09 11:28:01,403 - INFO - AlphaSage Micro Agents initialized. System health: {'mongodb': True, 'redis': True, 'chromadb': True, 'gemini_api': True}
2025-06-09 11:28:01,404 - INFO - Testing micro agent: valuation
2025-06-09 11:28:04,448 - ERROR - ChromaDB query error: Collection expecting embedding with dimension of 768, got 384
2025-06-09 11:28:04,842 - WARNING - Gemini API rate limit exceeded: 429 Quota exceeded for quota metric 'Generate Content API requests per minute' and limit 'GenerateCo...
2025-06-09 11:28:04,844 - INFO - Test complete for valuation: Success=True, Time=3.44s
2025-06-09 11:28:04,846 - INFO - Testing micro agent: profitability
2025-06-09 11:28:05,532 - INFO - Using cached financial data for TATAMOTORS.NS, metric: revenue
2025-06-09 11:28:05,773 - ERROR - ChromaDB query error: Collection expecting embedding with dimension of 768, got 384
2025-06-09 11:28:06,037 - ERROR - Error: 'str' object has no attribute 'strftime', Context: {"action": "fetch_financial_data", "ticker": "TATAMOTORS.NS", "metric": "quarterly income statement"}
2025-06-09 11:28:06,038 - ERROR - Traceback (most recent call last):
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\tools.py", line 830, in fetch_financial_data
    "date": index.strftime("%Y-%m-%d"),
            ^^^^^^^^^^^^^^
AttributeError: 'str' object has no attribute 'strftime'

2025-06-09 11:28:06,040 - INFO - Test complete for profitability: Success=True, Time=1.19s
2025-06-09 11:28:06,041 - INFO - Testing micro agent: liquidity
2025-06-09 11:28:06,041 - INFO - Test complete for liquidity: Success=True, Time=0.00s
2025-06-09 11:28:06,042 - INFO - Testing micro agent: leverage
2025-06-09 11:28:06,635 - ERROR - ChromaDB query error: Collection expecting embedding with dimension of 768, got 384
2025-06-09 11:28:06,917 - WARNING - Gemini API rate limit exceeded: 429 Quota exceeded for quota metric 'Generate Content API requests per minute' and limit 'GenerateCo...
2025-06-09 11:28:06,919 - INFO - Test complete for leverage: Success=True, Time=0.88s
2025-06-09 11:28:06,919 - INFO - Testing micro agent: efficiency
2025-06-09 11:28:06,921 - INFO - Test complete for efficiency: Success=True, Time=0.00s
2025-06-09 11:28:06,921 - INFO - Testing micro agent: news
2025-06-09 11:28:07,215 - INFO - Stored 10 news articles for Tata Motors in MongoDB
2025-06-09 11:28:08,165 - WARNING - Gemini API rate limit exceeded: 429 Quota exceeded for quota metric 'Generate Content API requests per minute' and limit 'GenerateCo...
2025-06-09 11:28:08,750 - WARNING - Gemini API rate limit exceeded: 429 Quota exceeded for quota metric 'Generate Content API requests per minute' and limit 'GenerateCo...
2025-06-09 11:28:09,738 - WARNING - Gemini API rate limit exceeded: 429 Quota exceeded for quota metric 'Generate Content API requests per minute' and limit 'GenerateCo...
2025-06-09 11:28:10,272 - WARNING - Gemini API rate limit exceeded: 429 Quota exceeded for quota metric 'Generate Content API requests per minute' and limit 'GenerateCo...
2025-06-09 11:28:11,290 - WARNING - Gemini API rate limit exceeded: 429 Quota exceeded for quota metric 'Generate Content API requests per minute' and limit 'GenerateCo...
2025-06-09 11:28:11,800 - WARNING - Gemini API rate limit exceeded: 429 Quota exceeded for quota metric 'Generate Content API requests per minute' and limit 'GenerateCo...
2025-06-09 11:28:12,825 - WARNING - Gemini API rate limit exceeded: 429 Quota exceeded for quota metric 'Generate Content API requests per minute' and limit 'GenerateCo...
2025-06-09 11:28:13,410 - WARNING - Gemini API rate limit exceeded: 429 Quota exceeded for quota metric 'Generate Content API requests per minute' and limit 'GenerateCo...
2025-06-09 11:28:14,344 - WARNING - Gemini API rate limit exceeded: 429 Quota exceeded for quota metric 'Generate Content API requests per minute' and limit 'GenerateCo...
2025-06-09 11:28:14,938 - WARNING - Gemini API rate limit exceeded: 429 Quota exceeded for quota metric 'Generate Content API requests per minute' and limit 'GenerateCo...
2025-06-09 11:28:14,939 - INFO - Test complete for news: Success=True, Time=8.02s
2025-06-09 11:28:14,940 - INFO - Testing micro agent: historical
2025-06-09 11:28:15,630 - ERROR - ChromaDB query error: Collection expecting embedding with dimension of 768, got 384
2025-06-09 11:28:15,632 - INFO - Test complete for historical: Success=True, Time=0.69s
2025-06-09 11:28:15,633 - INFO - Testing micro agent: guidance
2025-06-09 11:28:15,837 - ERROR - ChromaDB query error: Collection expecting embedding with dimension of 768, got 384
2025-06-09 11:28:15,837 - INFO - Test complete for guidance: Success=True, Time=0.20s
2025-06-09 11:28:15,838 - INFO - Testing micro agent: sentiment
2025-06-09 11:28:16,050 - ERROR - ChromaDB query error: Collection expecting embedding with dimension of 768, got 384
2025-06-09 11:28:16,335 - WARNING - Gemini API rate limit exceeded: 429 Quota exceeded for quota metric 'Generate Content API requests per minute' and limit 'GenerateCo...
2025-06-09 11:28:16,337 - INFO - Test complete for sentiment: Success=True, Time=0.50s
2025-06-09 11:28:16,339 - INFO - Testing micro agent: scenario
2025-06-09 11:28:17,582 - WARNING - Gemini API rate limit exceeded: 429 Quota exceeded for quota metric 'Generate Content API requests per minute' and limit 'GenerateCo...
2025-06-09 11:28:17,584 - INFO - Test complete for scenario: Success=True, Time=1.25s
2025-06-09 11:49:01,196 - INFO - MongoDB connection established
2025-06-09 11:49:01,205 - INFO - Redis connection established
2025-06-09 11:49:01,350 - INFO - ChromaDB connection established
2025-06-09 11:49:01,359 - INFO - Redis connection established for micro agents
2025-06-09 11:49:01,388 - INFO - MongoDB connection established for micro agents
2025-06-09 11:49:01,532 - INFO - Configured 10 micro agents
2025-06-09 11:49:01,698 - INFO - AlphaSage Micro Agents initialized. System health: {'mongodb': True, 'redis': True, 'chromadb': True, 'gemini_api': True}
2025-06-09 11:49:01,698 - INFO - Testing micro agent: valuation
2025-06-09 11:49:01,700 - INFO - Test complete for valuation: Success=True, Time=0.00s
2025-06-09 11:49:01,701 - INFO - Testing micro agent: profitability
2025-06-09 11:49:01,701 - INFO - Test complete for profitability: Success=True, Time=0.00s
2025-06-09 11:49:01,702 - INFO - Testing micro agent: liquidity
2025-06-09 11:49:02,193 - ERROR - ChromaDB query error: Collection expecting embedding with dimension of 768, got 384
2025-06-09 11:49:02,195 - INFO - Test complete for liquidity: Success=True, Time=0.49s
2025-06-09 11:49:02,196 - INFO - Testing micro agent: leverage
2025-06-09 11:49:02,196 - INFO - Test complete for leverage: Success=True, Time=0.00s
2025-06-09 11:49:02,198 - INFO - Testing micro agent: efficiency
2025-06-09 11:49:02,401 - ERROR - ChromaDB query error: Collection expecting embedding with dimension of 768, got 384
2025-06-09 11:49:02,402 - INFO - Test complete for efficiency: Success=True, Time=0.20s
2025-06-09 11:49:02,403 - INFO - Testing micro agent: news
2025-06-09 11:49:02,404 - INFO - Test complete for news: Success=True, Time=0.00s
2025-06-09 11:49:02,404 - INFO - Testing micro agent: historical
2025-06-09 11:49:02,405 - INFO - Test complete for historical: Success=True, Time=0.00s
2025-06-09 11:49:02,406 - INFO - Testing micro agent: guidance
2025-06-09 11:49:02,406 - INFO - Test complete for guidance: Success=True, Time=0.00s
2025-06-09 11:49:02,407 - INFO - Testing micro agent: sentiment
2025-06-09 11:49:02,409 - INFO - Test complete for sentiment: Success=True, Time=0.00s
2025-06-09 11:49:02,410 - INFO - Testing micro agent: scenario
2025-06-09 11:49:02,411 - INFO - Test complete for scenario: Success=True, Time=0.00s
2025-06-09 12:07:09,815 - INFO - MongoDB connection established
2025-06-09 12:07:09,824 - INFO - Redis connection established
2025-06-09 12:07:09,980 - INFO - ChromaDB connection established
2025-06-09 12:07:10,005 - INFO - Redis connection established for macro agents
2025-06-09 12:07:10,012 - INFO - MongoDB connection established for macro agents
2025-06-09 12:07:10,019 - INFO - Redis connection established for micro agents
2025-06-09 12:07:10,025 - INFO - MongoDB connection established for micro agents
2025-06-09 12:07:10,137 - INFO - Configured 10 micro agents
2025-06-09 12:07:10,306 - INFO - AlphaSage Micro Agents initialized. System health: {'mongodb': True, 'redis': True, 'chromadb': True, 'gemini_api': True}
2025-06-09 12:07:10,383 - INFO - Configured 8 macro agents
2025-06-09 12:07:10,386 - INFO - AlphaSage Macro Agents initialized. System health: {'mongodb': True, 'redis': True, 'chromadb': True, 'gemini_api': True}
2025-06-09 12:07:10,398 - ERROR - Macro Agent Error: '<' not supported between instances of 'int' and 'str', Context: {"company_name": "Ganesha Ecosphere Limited"}
2025-06-09 12:07:10,398 - ERROR - Traceback (most recent call last):
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\macroagent.py", line 310, in analyze_business
    historical_result = await self.retry_micro_call(
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\macroagent.py", line 257, in retry_micro_call
    while attempt < max_attempts:
          ^^^^^^^^^^^^^^^^^^^^^^
TypeError: '<' not supported between instances of 'int' and 'str'

2025-06-09 12:07:11,406 - ERROR - Macro Agent Error: '<' not supported between instances of 'int' and 'str', Context: {"sector": "Environmental Services", "company_name": "Ganesha Ecosphere Limited"}
2025-06-09 12:07:11,443 - ERROR - Traceback (most recent call last):
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\macroagent.py", line 433, in analyze_sector
    news_result = await self.retry_micro_call(
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\macroagent.py", line 257, in retry_micro_call
    while attempt < max_attempts:
          ^^^^^^^^^^^^^^^^^^^^^^
TypeError: '<' not supported between instances of 'int' and 'str'

2025-06-09 12:07:12,448 - ERROR - Macro Agent Error: '<' not supported between instances of 'int' and 'str', Context: {"company_name": "Ganesha Ecosphere Limited"}
2025-06-09 12:07:12,448 - ERROR - Traceback (most recent call last):
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\macroagent.py", line 554, in deep_dive_company
    historical_result = await self.retry_micro_call(
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\macroagent.py", line 257, in retry_micro_call
    while attempt < max_attempts:
          ^^^^^^^^^^^^^^^^^^^^^^
TypeError: '<' not supported between instances of 'int' and 'str'

2025-06-09 12:07:13,459 - ERROR - Macro Agent Error: '<' not supported between instances of 'int' and 'str', Context: {"company_name": "Ganesha Ecosphere Limited"}
2025-06-09 12:07:13,460 - ERROR - Traceback (most recent call last):
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\macroagent.py", line 675, in analyze_debt_wc
    leverage_result = await self.retry_micro_call(
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\macroagent.py", line 257, in retry_micro_call
    while attempt < max_attempts:
          ^^^^^^^^^^^^^^^^^^^^^^
TypeError: '<' not supported between instances of 'int' and 'str'

2025-06-09 12:07:14,467 - ERROR - Macro Agent Error: '<' not supported between instances of 'int' and 'str', Context: {"company_name": "Ganesha Ecosphere Limited"}
2025-06-09 12:07:14,468 - ERROR - Traceback (most recent call last):
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\macroagent.py", line 777, in analyze_current_affairs
    news_result = await self.retry_micro_call(
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\macroagent.py", line 257, in retry_micro_call
    while attempt < max_attempts:
          ^^^^^^^^^^^^^^^^^^^^^^
TypeError: '<' not supported between instances of 'int' and 'str'

2025-06-09 12:07:15,481 - ERROR - Macro Agent Error: '<' not supported between instances of 'int' and 'str', Context: {"company_name": "Ganesha Ecosphere Limited", "years": 3}
2025-06-09 12:07:15,482 - ERROR - Traceback (most recent call last):
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\macroagent.py", line 919, in predict_future
    guidance_result = await self.retry_micro_call(
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\macroagent.py", line 257, in retry_micro_call
    while attempt < max_attempts:
          ^^^^^^^^^^^^^^^^^^^^^^
TypeError: '<' not supported between instances of 'int' and 'str'

2025-06-09 12:07:16,493 - ERROR - Macro Agent Error: '<' not supported between instances of 'int' and 'str', Context: {"company_name": "Ganesha Ecosphere Limited"}
2025-06-09 12:07:16,494 - ERROR - Traceback (most recent call last):
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\macroagent.py", line 1066, in analyze_concall
    guidance_result = await self.retry_micro_call(
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\macroagent.py", line 257, in retry_micro_call
    while attempt < max_attempts:
          ^^^^^^^^^^^^^^^^^^^^^^
TypeError: '<' not supported between instances of 'int' and 'str'

2025-06-09 12:07:17,548 - ERROR - Macro Agent Error: '<' not supported between instances of 'int' and 'str', Context: {"company_name": "Ganesha Ecosphere Limited"}
2025-06-09 12:07:17,549 - ERROR - Traceback (most recent call last):
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\macroagent.py", line 1168, in analyze_risks
    news_result = await self.retry_micro_call(
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\macroagent.py", line 257, in retry_micro_call
    while attempt < max_attempts:
          ^^^^^^^^^^^^^^^^^^^^^^
TypeError: '<' not supported between instances of 'int' and 'str'

2025-06-09 12:10:55,074 - INFO - MongoDB connection established
2025-06-09 12:10:55,126 - INFO - Redis connection established
2025-06-09 12:10:55,227 - INFO - ChromaDB connection established
2025-06-09 12:10:55,241 - INFO - Redis connection established for macro agents
2025-06-09 12:10:55,248 - INFO - MongoDB connection established for macro agents
2025-06-09 12:10:55,253 - INFO - Redis connection established for micro agents
2025-06-09 12:10:55,260 - INFO - MongoDB connection established for micro agents
2025-06-09 12:10:55,369 - INFO - Configured 10 micro agents
2025-06-09 12:10:55,425 - INFO - AlphaSage Micro Agents initialized. System health: {'mongodb': True, 'redis': True, 'chromadb': True, 'gemini_api': True}
2025-06-09 12:10:55,508 - INFO - Configured 8 macro agents
2025-06-09 12:10:55,512 - INFO - AlphaSage Macro Agents initialized. System health: {'mongodb': True, 'redis': True, 'chromadb': True, 'gemini_api': True}
2025-06-09 12:10:55,514 - ERROR - Macro Agent Error: 'AlphaSageMacroAgents' object has no attribute '_get_ticker_for_company', Context: {"company_name": "Ganesha Ecosphere Limited"}
2025-06-09 12:10:55,514 - ERROR - Traceback (most recent call last):
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\macroagent.py", line 343, in analyze_business
    ticker = self._get_ticker_for_company(company_name)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'AlphaSageMacroAgents' object has no attribute '_get_ticker_for_company'

2025-06-09 12:10:55,515 - ERROR - Macro Agent Error: 'AlphaSageMacroAgents' object has no attribute '_get_ticker_for_company', Context: {"sector": "Environmental Services", "company_name": "Ganesha Ecosphere Limited"}
2025-06-09 12:10:55,516 - ERROR - Traceback (most recent call last):
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\macroagent.py", line 508, in analyze_sector
    ticker = self._get_ticker_for_company(company_name)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'AlphaSageMacroAgents' object has no attribute '_get_ticker_for_company'

2025-06-09 12:10:57,408 - ERROR - Error: HTTP Error 404: , Context: {"action": "fetch_financial_data", "ticker": "GANESHA ECOSPHERE LIMITED.NS", "metric": "price"}
2025-06-09 12:10:57,412 - ERROR - Traceback (most recent call last):
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\tools.py", line 869, in fetch_financial_data
    hist_data = ticker_obj.history(period=period)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\yfinance\utils.py", line 99, in wrapper
    result = func(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\yfinance\base.py", line 96, in history
    return self._lazy_load_price_history().history(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\yfinance\base.py", line 102, in _lazy_load_price_history
    self._price_history = PriceHistory(self._data, self.ticker, self._get_ticker_tz(timeout=10))
                                                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\yfinance\base.py", line 127, in _get_ticker_tz
    if k in self.info:
            ^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\yfinance\ticker.py", line 159, in info
    return self.get_info()
           ^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\yfinance\base.py", line 293, in get_info
    data = self._quote.info
           ^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\yfinance\scrapers\quote.py", line 511, in info
    self._fetch_info()
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\yfinance\scrapers\quote.py", line 610, in _fetch_info
    result = self._fetch(modules=modules)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\yfinance\scrapers\quote.py", line 590, in _fetch
    result = self._data.get_raw_json(_QUOTE_SUMMARY_URL_ + f"/{self._symbol}", params=params_dict)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\yfinance\data.py", line 425, in get_raw_json
    response.raise_for_status()
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\curl_cffi\requests\models.py", line 167, in raise_for_status
    raise HTTPError(f"HTTP Error {self.status_code}: {self.reason}", 0, self)
curl_cffi.requests.exceptions.HTTPError: HTTP Error 404: 

2025-06-09 12:10:57,874 - ERROR - ChromaDB query error: Collection expecting embedding with dimension of 768, got 384
2025-06-09 12:10:58,358 - WARNING - Gemini API rate limit exceeded: 429 Quota exceeded for quota metric 'Generate Content API requests per minute' and limit 'GenerateCo...
2025-06-09 12:10:58,538 - ERROR - ChromaDB query error: Collection expecting embedding with dimension of 768, got 384
2025-06-09 12:10:59,592 - WARNING - Gemini API rate limit exceeded: 429 Quota exceeded for quota metric 'Generate Content API requests per minute' and limit 'GenerateCo...
2025-06-09 12:11:00,885 - WARNING - yfinance .info failed for GANESHA ECOSPHERE LIMITED.NS: HTTP Error 404: 
2025-06-09 12:11:00,886 - ERROR - Error: Collection objects do not implement truth value testing or bool(). Please compare with None instead: collection is not None, Context: {"action": "fetch_financial_data", "ticker": "GANESHA ECOSPHERE LIMITED.NS", "metric": "debt to equity"}
2025-06-09 12:11:00,887 - ERROR - Traceback (most recent call last):
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\tools.py", line 911, in fetch_financial_data
    company_name = get_company_name_from_ticker(ticker)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\tools.py", line 362, in get_company_name_from_ticker
    if collection:
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\pymongo\synchronous\collection.py", line 311, in __bool__
    raise NotImplementedError(
NotImplementedError: Collection objects do not implement truth value testing or bool(). Please compare with None instead: collection is not None

2025-06-09 12:11:00,890 - ERROR - Error: Collection objects do not implement truth value testing or bool(). Please compare with None instead: collection is not None, Context: {"action": "fetch_financial_data", "ticker": "GANESHA ECOSPHERE LIMITED.NS", "metric": "total debt"}
2025-06-09 12:11:00,890 - ERROR - Traceback (most recent call last):
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\tools.py", line 911, in fetch_financial_data
    company_name = get_company_name_from_ticker(ticker)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\tools.py", line 362, in get_company_name_from_ticker
    if collection:
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\pymongo\synchronous\collection.py", line 311, in __bool__
    raise NotImplementedError(
NotImplementedError: Collection objects do not implement truth value testing or bool(). Please compare with None instead: collection is not None

2025-06-09 12:11:00,891 - ERROR - Error: Collection objects do not implement truth value testing or bool(). Please compare with None instead: collection is not None, Context: {"action": "fetch_financial_data", "ticker": "GANESHA ECOSPHERE LIMITED.NS", "metric": "total equity"}
2025-06-09 12:11:00,892 - ERROR - Traceback (most recent call last):
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\tools.py", line 911, in fetch_financial_data
    company_name = get_company_name_from_ticker(ticker)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\tools.py", line 362, in get_company_name_from_ticker
    if collection:
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\pymongo\synchronous\collection.py", line 311, in __bool__
    raise NotImplementedError(
NotImplementedError: Collection objects do not implement truth value testing or bool(). Please compare with None instead: collection is not None

2025-06-09 12:11:00,893 - ERROR - Error: Collection objects do not implement truth value testing or bool(). Please compare with None instead: collection is not None, Context: {"action": "fetch_financial_data", "ticker": "GANESHA ECOSPHERE LIMITED.NS", "metric": "total debt"}
2025-06-09 12:11:00,893 - ERROR - Traceback (most recent call last):
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\tools.py", line 911, in fetch_financial_data
    company_name = get_company_name_from_ticker(ticker)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\tools.py", line 362, in get_company_name_from_ticker
    if collection:
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\pymongo\synchronous\collection.py", line 311, in __bool__
    raise NotImplementedError(
NotImplementedError: Collection objects do not implement truth value testing or bool(). Please compare with None instead: collection is not None

2025-06-09 12:11:00,895 - ERROR - Error: Collection objects do not implement truth value testing or bool(). Please compare with None instead: collection is not None, Context: {"action": "fetch_financial_data", "ticker": "GANESHA ECOSPHERE LIMITED.NS", "metric": "total assets"}
2025-06-09 12:11:00,895 - ERROR - Traceback (most recent call last):
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\tools.py", line 911, in fetch_financial_data
    company_name = get_company_name_from_ticker(ticker)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\tools.py", line 362, in get_company_name_from_ticker
    if collection:
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\pymongo\synchronous\collection.py", line 311, in __bool__
    raise NotImplementedError(
NotImplementedError: Collection objects do not implement truth value testing or bool(). Please compare with None instead: collection is not None

2025-06-09 12:11:01,225 - WARNING - yfinance .info failed for GANESHA ECOSPHERE LIMITED.NS: HTTP Error 404: 
2025-06-09 12:11:01,225 - ERROR - Error: Collection objects do not implement truth value testing or bool(). Please compare with None instead: collection is not None, Context: {"action": "fetch_financial_data", "ticker": "GANESHA ECOSPHERE LIMITED.NS", "metric": "ebitda"}
2025-06-09 12:11:01,226 - ERROR - Traceback (most recent call last):
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\tools.py", line 911, in fetch_financial_data
    company_name = get_company_name_from_ticker(ticker)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\tools.py", line 362, in get_company_name_from_ticker
    if collection:
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\pymongo\synchronous\collection.py", line 311, in __bool__
    raise NotImplementedError(
NotImplementedError: Collection objects do not implement truth value testing or bool(). Please compare with None instead: collection is not None

2025-06-09 12:11:01,228 - ERROR - Error: Collection objects do not implement truth value testing or bool(). Please compare with None instead: collection is not None, Context: {"action": "fetch_financial_data", "ticker": "GANESHA ECOSPHERE LIMITED.NS", "metric": "interest expense"}
2025-06-09 12:11:01,229 - ERROR - Traceback (most recent call last):
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\tools.py", line 911, in fetch_financial_data
    company_name = get_company_name_from_ticker(ticker)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\tools.py", line 362, in get_company_name_from_ticker
    if collection:
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\pymongo\synchronous\collection.py", line 311, in __bool__
    raise NotImplementedError(
NotImplementedError: Collection objects do not implement truth value testing or bool(). Please compare with None instead: collection is not None

2025-06-09 12:11:01,388 - ERROR - ChromaDB query error: Collection expecting embedding with dimension of 768, got 384
2025-06-09 12:11:01,556 - ERROR - ChromaDB query error: Collection expecting embedding with dimension of 768, got 384
2025-06-09 12:11:01,840 - WARNING - yfinance .info failed for GANESHA ECOSPHERE LIMITED.NS: HTTP Error 404: 
2025-06-09 12:11:01,840 - ERROR - Error: Collection objects do not implement truth value testing or bool(). Please compare with None instead: collection is not None, Context: {"action": "fetch_financial_data", "ticker": "GANESHA ECOSPHERE LIMITED.NS", "metric": "debt to equity"}
2025-06-09 12:11:01,841 - ERROR - Traceback (most recent call last):
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\tools.py", line 911, in fetch_financial_data
    company_name = get_company_name_from_ticker(ticker)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\tools.py", line 362, in get_company_name_from_ticker
    if collection:
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\pymongo\synchronous\collection.py", line 311, in __bool__
    raise NotImplementedError(
NotImplementedError: Collection objects do not implement truth value testing or bool(). Please compare with None instead: collection is not None

2025-06-09 12:11:02,850 - ERROR - Macro Agent Error: 'AlphaSageMacroAgents' object has no attribute '_get_ticker_for_company', Context: {"company_name": "Ganesha Ecosphere Limited"}
2025-06-09 12:11:02,852 - ERROR - Traceback (most recent call last):
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\macroagent.py", line 884, in analyze_current_affairs
    ticker = self._get_ticker_for_company(company_name)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'AlphaSageMacroAgents' object has no attribute '_get_ticker_for_company'

2025-06-09 12:11:02,853 - ERROR - Macro Agent Error: 'AlphaSageMacroAgents' object has no attribute '_get_ticker_for_company', Context: {"company_name": "Ganesha Ecosphere Limited", "years": 3}
2025-06-09 12:11:02,853 - ERROR - Traceback (most recent call last):
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\macroagent.py", line 1028, in predict_future
    ticker = self._get_ticker_for_company(company_name)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'AlphaSageMacroAgents' object has no attribute '_get_ticker_for_company'

2025-06-09 12:11:03,022 - ERROR - ChromaDB query error: Collection expecting embedding with dimension of 768, got 384
2025-06-09 12:11:03,311 - WARNING - Gemini API rate limit exceeded: 429 Quota exceeded for quota metric 'Generate Content API requests per minute' and limit 'GenerateCo...
2025-06-09 12:11:03,475 - ERROR - ChromaDB query error: Collection expecting embedding with dimension of 768, got 384
2025-06-09 12:11:05,151 - WARNING - Gemini API rate limit exceeded: 429 Quota exceeded for quota metric 'Generate Content API requests per minute' and limit 'GenerateCo...
2025-06-09 13:41:45,818 - INFO - MongoDB connection established
2025-06-09 13:41:45,834 - INFO - Redis connection established
2025-06-09 13:41:46,225 - INFO - ChromaDB connection established
2025-06-09 13:41:46,259 - INFO - Redis connection established for macro agents
2025-06-09 13:41:46,299 - INFO - MongoDB connection established for macro agents
2025-06-09 13:41:46,305 - INFO - Redis connection established for micro agents
2025-06-09 13:41:46,310 - INFO - MongoDB connection established for micro agents
2025-06-09 13:41:46,419 - INFO - Configured 10 micro agents
2025-06-09 13:41:46,593 - INFO - AlphaSage Micro Agents initialized. System health: {'mongodb': True, 'redis': True, 'chromadb': True, 'gemini_api': True}
2025-06-09 13:41:46,669 - INFO - Configured 8 macro agents
2025-06-09 13:41:46,673 - INFO - AlphaSage Macro Agents initialized. System health: {'mongodb': True, 'redis': True, 'chromadb': True, 'gemini_api': True}
2025-06-09 13:41:46,675 - INFO - Starting demo analysis for Ganesha Ecosphere Limited
2025-06-09 13:41:46,675 - INFO - Starting comprehensive analysis for Ganesha Ecosphere Limited
2025-06-09 13:41:49,348 - ERROR - ChromaDB query error: Collection expecting embedding with dimension of 768, got 384
2025-06-09 13:41:49,649 - ERROR - ChromaDB query error: Collection expecting embedding with dimension of 768, got 384
2025-06-09 13:41:50,158 - ERROR - ChromaDB query error: Collection expecting embedding with dimension of 768, got 384
2025-06-09 13:41:50,158 - WARNING - ArithmeticCalculationTool failed: 'list' object has no attribute 'get'
2025-06-09 13:41:51,063 - WARNING - yfinance .info failed for GANESHA ECOSPHERE LIMITED.NS: HTTP Error 404: 
2025-06-09 13:41:51,065 - ERROR - Error: Collection objects do not implement truth value testing or bool(). Please compare with None instead: collection is not None, Context: {"action": "fetch_financial_data", "ticker": "GANESHA ECOSPHERE LIMITED.NS", "metric": "debt to equity"}
2025-06-09 13:41:51,128 - ERROR - Traceback (most recent call last):
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\tools.py", line 911, in fetch_financial_data
    company_name = get_company_name_from_ticker(ticker)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\tools.py", line 362, in get_company_name_from_ticker
    if collection:
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\pymongo\synchronous\collection.py", line 311, in __bool__
    raise NotImplementedError(
NotImplementedError: Collection objects do not implement truth value testing or bool(). Please compare with None instead: collection is not None

2025-06-09 13:41:51,129 - ERROR - Error: Collection objects do not implement truth value testing or bool(). Please compare with None instead: collection is not None, Context: {"action": "fetch_financial_data", "ticker": "GANESHA ECOSPHERE LIMITED.NS", "metric": "total debt"}
2025-06-09 13:41:51,130 - ERROR - Traceback (most recent call last):
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\tools.py", line 911, in fetch_financial_data
    company_name = get_company_name_from_ticker(ticker)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\tools.py", line 362, in get_company_name_from_ticker
    if collection:
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\pymongo\synchronous\collection.py", line 311, in __bool__
    raise NotImplementedError(
NotImplementedError: Collection objects do not implement truth value testing or bool(). Please compare with None instead: collection is not None

2025-06-09 13:41:51,130 - ERROR - Error: Collection objects do not implement truth value testing or bool(). Please compare with None instead: collection is not None, Context: {"action": "fetch_financial_data", "ticker": "GANESHA ECOSPHERE LIMITED.NS", "metric": "total equity"}
2025-06-09 13:41:51,132 - ERROR - Traceback (most recent call last):
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\tools.py", line 911, in fetch_financial_data
    company_name = get_company_name_from_ticker(ticker)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\tools.py", line 362, in get_company_name_from_ticker
    if collection:
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\pymongo\synchronous\collection.py", line 311, in __bool__
    raise NotImplementedError(
NotImplementedError: Collection objects do not implement truth value testing or bool(). Please compare with None instead: collection is not None

2025-06-09 13:41:51,133 - ERROR - Error: Collection objects do not implement truth value testing or bool(). Please compare with None instead: collection is not None, Context: {"action": "fetch_financial_data", "ticker": "GANESHA ECOSPHERE LIMITED.NS", "metric": "total debt"}
2025-06-09 13:41:51,133 - ERROR - Traceback (most recent call last):
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\tools.py", line 911, in fetch_financial_data
    company_name = get_company_name_from_ticker(ticker)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\tools.py", line 362, in get_company_name_from_ticker
    if collection:
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\pymongo\synchronous\collection.py", line 311, in __bool__
    raise NotImplementedError(
NotImplementedError: Collection objects do not implement truth value testing or bool(). Please compare with None instead: collection is not None

2025-06-09 13:41:51,134 - ERROR - Error: Collection objects do not implement truth value testing or bool(). Please compare with None instead: collection is not None, Context: {"action": "fetch_financial_data", "ticker": "GANESHA ECOSPHERE LIMITED.NS", "metric": "total assets"}
2025-06-09 13:41:51,134 - ERROR - Traceback (most recent call last):
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\tools.py", line 911, in fetch_financial_data
    company_name = get_company_name_from_ticker(ticker)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\tools.py", line 362, in get_company_name_from_ticker
    if collection:
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\pymongo\synchronous\collection.py", line 311, in __bool__
    raise NotImplementedError(
NotImplementedError: Collection objects do not implement truth value testing or bool(). Please compare with None instead: collection is not None

2025-06-09 13:41:51,504 - WARNING - yfinance .info failed for GANESHA ECOSPHERE LIMITED.NS: HTTP Error 404: 
2025-06-09 13:41:51,504 - ERROR - Error: Collection objects do not implement truth value testing or bool(). Please compare with None instead: collection is not None, Context: {"action": "fetch_financial_data", "ticker": "GANESHA ECOSPHERE LIMITED.NS", "metric": "ebitda"}
2025-06-09 13:41:51,505 - ERROR - Traceback (most recent call last):
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\tools.py", line 911, in fetch_financial_data
    company_name = get_company_name_from_ticker(ticker)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\tools.py", line 362, in get_company_name_from_ticker
    if collection:
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\pymongo\synchronous\collection.py", line 311, in __bool__
    raise NotImplementedError(
NotImplementedError: Collection objects do not implement truth value testing or bool(). Please compare with None instead: collection is not None

2025-06-09 13:41:51,507 - ERROR - Error: Collection objects do not implement truth value testing or bool(). Please compare with None instead: collection is not None, Context: {"action": "fetch_financial_data", "ticker": "GANESHA ECOSPHERE LIMITED.NS", "metric": "interest expense"}
2025-06-09 13:41:51,508 - ERROR - Traceback (most recent call last):
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\tools.py", line 911, in fetch_financial_data
    company_name = get_company_name_from_ticker(ticker)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\tools.py", line 362, in get_company_name_from_ticker
    if collection:
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\pymongo\synchronous\collection.py", line 311, in __bool__
    raise NotImplementedError(
NotImplementedError: Collection objects do not implement truth value testing or bool(). Please compare with None instead: collection is not None

2025-06-09 13:41:51,723 - ERROR - ChromaDB query error: Collection expecting embedding with dimension of 768, got 384
2025-06-09 13:41:51,925 - ERROR - ChromaDB query error: Collection expecting embedding with dimension of 768, got 384
2025-06-09 13:41:52,189 - WARNING - yfinance .info failed for GANESHA ECOSPHERE LIMITED.NS: HTTP Error 404: 
2025-06-09 13:41:52,189 - ERROR - Error: Collection objects do not implement truth value testing or bool(). Please compare with None instead: collection is not None, Context: {"action": "fetch_financial_data", "ticker": "GANESHA ECOSPHERE LIMITED.NS", "metric": "debt to equity"}
2025-06-09 13:41:52,190 - ERROR - Traceback (most recent call last):
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\tools.py", line 911, in fetch_financial_data
    company_name = get_company_name_from_ticker(ticker)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\tools.py", line 362, in get_company_name_from_ticker
    if collection:
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\venv\Lib\site-packages\pymongo\synchronous\collection.py", line 311, in __bool__
    raise NotImplementedError(
NotImplementedError: Collection objects do not implement truth value testing or bool(). Please compare with None instead: collection is not None

2025-06-09 13:41:52,197 - WARNING - ScenarioAnalysisAgent failed: 'AlphaSageMicroAgents' object has no attribute 'perform_scenario_analysis'
2025-06-09 13:41:52,198 - INFO - Using cached financial data for GANECOS.NS, metric: revenue
2025-06-09 13:41:52,198 - ERROR - Macro Agent Error: 'list' object has no attribute 'get', Context: {"company_name": "Ganesha Ecosphere Limited", "years": 3}
2025-06-09 13:41:52,198 - ERROR - Traceback (most recent call last):
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\macroagent.py", line 1211, in predict_future
    if current_revenue and current_revenue.get('data', {}).get('revenue'):
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'get'

2025-06-09 13:41:52,229 - WARNING - Gemini API rate limit exceeded: 429 Quota exceeded for quota metric 'Generate Content API requests per minute' and limit 'GenerateCo...
2025-06-09 13:41:52,241 - WARNING - Gemini API rate limit exceeded: 429 Quota exceeded for quota metric 'Generate Content API requests per minute' and limit 'GenerateCo...
2025-06-09 13:41:52,453 - ERROR - ChromaDB query error: Collection expecting embedding with dimension of 768, got 384
2025-06-09 13:41:52,477 - WARNING - Gemini API rate limit exceeded: 429 Quota exceeded for quota metric 'Generate Content API requests per minute' and limit 'GenerateCo...
2025-06-09 13:41:52,842 - ERROR - ChromaDB query error: Collection expecting embedding with dimension of 768, got 384
2025-06-09 13:41:53,799 - WARNING - Gemini API rate limit exceeded: 429 Quota exceeded for quota metric 'Generate Content API requests per minute' and limit 'GenerateCo...
2025-06-09 13:41:54,249 - ERROR - ChromaDB query error: Collection expecting embedding with dimension of 768, got 384
2025-06-09 13:41:54,250 - WARNING - Gemini API rate limit exceeded: 429 Quota exceeded for quota metric 'Generate Content API requests per minute' and limit 'GenerateCo...
2025-06-09 13:41:54,450 - ERROR - ChromaDB query error: Collection expecting embedding with dimension of 768, got 384
2025-06-09 13:41:54,524 - WARNING - Gemini API rate limit exceeded: 429 Quota exceeded for quota metric 'Generate Content API requests per minute' and limit 'GenerateCo...
2025-06-09 13:41:55,814 - WARNING - Gemini API rate limit exceeded: 429 Quota exceeded for quota metric 'Generate Content API requests per minute' and limit 'GenerateCo...
2025-06-09 13:41:55,815 - INFO - Comprehensive analysis completed in 9.14 seconds
2025-06-09 13:41:55,831 - INFO - Demo analysis completed successfully for Ganesha Ecosphere Limited
2025-06-09 13:54:50,351 - INFO - MongoDB connection established
2025-06-09 13:54:50,398 - INFO - Redis connection established
2025-06-09 13:54:50,480 - INFO - ChromaDB connection established
2025-06-09 13:54:50,503 - INFO - Redis connection established for macro agents
2025-06-09 13:54:50,509 - INFO - MongoDB connection established for macro agents
2025-06-09 13:54:50,514 - INFO - Redis connection established for micro agents
2025-06-09 13:54:50,538 - INFO - MongoDB connection established for micro agents
2025-06-09 13:54:50,644 - INFO - Configured 10 micro agents
2025-06-09 13:54:50,691 - INFO - AlphaSage Micro Agents initialized. System health: {'mongodb': True, 'redis': True, 'chromadb': True, 'gemini_api': True}
2025-06-09 13:54:50,766 - INFO - Configured 8 macro agents
2025-06-09 13:54:50,769 - INFO - AlphaSage Macro Agents initialized. System health: {'mongodb': True, 'redis': True, 'chromadb': True, 'gemini_api': True}
2025-06-09 13:54:50,770 - INFO - Starting demo analysis for Ganesha Ecosphere Limited
2025-06-09 13:54:50,772 - INFO - Starting comprehensive analysis for Ganesha Ecosphere Limited
2025-06-09 13:54:50,774 - ERROR - MicroAgent Error: 'AlphaSageMicroAgents' object has no attribute '_get_ticker_for_company', Context: {"agent": "ScenarioAnalysisAgent", "company_name": "Ganesha Ecosphere Limited"}
2025-06-09 13:54:50,776 - ERROR - Traceback (most recent call last):
  File "D:\Mistral-OCR-and-Synthetic-data-Generation\microagent.py", line 1549, in perform_scenario_analysis
    ticker = self._get_ticker_for_company(company_name)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'AlphaSageMicroAgents' object has no attribute '_get_ticker_for_company'

2025-06-09 13:54:50,777 - WARNING - Failed to get company name from ticker GANECOS.NS: name 'get_mongodb_connection' is not defined
2025-06-09 13:54:53,603 - WARNING - Gemini API rate limit exceeded: 429 Quota exceeded for quota metric 'Generate Content API requests per minute' and limit 'GenerateCo...
2025-06-09 13:54:53,604 - INFO - Comprehensive analysis completed in 2.83 seconds
2025-06-09 13:54:53,605 - INFO - Demo analysis completed successfully for Ganesha Ecosphere Limited
